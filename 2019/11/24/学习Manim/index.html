<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/green/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.8.0","exturl":false,"sidebar":{"position":"right","display":"hide","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeInUp","post_header":"fadeInUp","post_body":"fadeInUp","coll_header":"fadeInUp","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>
<meta name="description" content="什么是Manim？ Manim是Youtube上的UP主3Blue1Brown用来做跟数学和物理有关的动态视频所使用的动画引擎。可以用来制作一些漂亮的动画，比如可视化数学证明、将数学公式的推导动画化、绘制动态的2D图和3D图、做机械结构的动画、甚至制作乐谱和钢琴弹奏的动画。">
<meta property="og:type" content="article">
<meta property="og:title" content="学习Manim">
<meta property="og:url" content="http://example.com/2019/11/24/%E5%AD%A6%E4%B9%A0Manim/index.html">
<meta property="og:site_name" content="兴趣使然的博客">
<meta property="og:description" content="什么是Manim？ Manim是Youtube上的UP主3Blue1Brown用来做跟数学和物理有关的动态视频所使用的动画引擎。可以用来制作一些漂亮的动画，比如可视化数学证明、将数学公式的推导动画化、绘制动态的2D图和3D图、做机械结构的动画、甚至制作乐谱和钢琴弹奏的动画。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A21.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A22.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A23.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A24.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A25.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A26.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A27.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A28.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_FFmpeg%E7%9B%AE%E5%BD%95.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_FFmpeg%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_FFmpeg%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_SoX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A21.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_SoX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A22.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_SoX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A23.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_SoX%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_%E4%B8%8B%E8%BD%BDpycairo.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_%E8%B0%83%E6%95%B4%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A0%811.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_%E8%B0%83%E6%95%B4%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A0%812.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_%E8%B0%83%E6%95%B4%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A0%813.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_%E8%B0%83%E6%95%B4%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A0%814.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Package%20Installation.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Change%20Package%20Repository1.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Change%20Package%20Repository2.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_FirstScene.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Formula.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_InlineFormula.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_InlineFormula2.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MultiLineFormula.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MultiLineFormula2.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_TextColor.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_FormulaColor2.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_CheckFormula1.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_CheckFormula2.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_ColorByCharacter.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_ColorByCharacterFixed.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Check1.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_%E7%90%83%E5%9D%90%E6%A0%87%E7%B3%BB.svg">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Text3D.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_NormalCoordinate.png">
<meta property="og:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_CustomGraph.png">
<meta property="article:published_time" content="2019-11-24T03:47:22.000Z">
<meta property="article:modified_time" content="2021-10-10T12:29:38.229Z">
<meta property="article:author" content="想飞的鸡">
<meta property="article:tag" content="填坑中">
<meta property="article:tag" content="Manim">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A21.png">


<link rel="canonical" href="http://example.com/2019/11/24/%E5%AD%A6%E4%B9%A0Manim/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://example.com/2019/11/24/%E5%AD%A6%E4%B9%A0Manim/","path":"2019/11/24/学习Manim/","title":"学习Manim"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>学习Manim | 兴趣使然的博客</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<style type="text/css">
.spoiler {
  display: inline-flex;
}
p.spoiler {
  display: flex;
}
.spoiler a {
  pointer-events: none;
}
.spoiler-blur, .spoiler-blur > * {
  transition: text-shadow .5s ease;
}
.spoiler .spoiler-blur, .spoiler .spoiler-blur > * {
  color: rgba(0, 0, 0, 0);
  background-color: rgba(0, 0, 0, 0);
  text-shadow: 0 0 10px grey;
  cursor: pointer;
}
.spoiler .spoiler-blur:hover, .spoiler .spoiler-blur:hover > * {
  text-shadow: 0 0 5px grey;
}
.spoiler-box, .spoiler-box > * {
  transition: color .5s ease,
  background-color .5s ease;
}
.spoiler .spoiler-box, .spoiler .spoiler-box > * {
  color: black;
  background-color: black;
  text-shadow: none;
}</style><script src="/assets/js/DPlayer.min.js"></script></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">兴趣使然的博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFmanim"><span class="nav-number">1.</span> <span class="nav-text">什么是Manim？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9C%A8windows%E4%B8%8A%E5%AE%89%E8%A3%85"><span class="nav-number">2.</span> <span class="nav-text">在Windows上安装</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BD%E5%B9%B6%E5%AE%89%E8%A3%85latex"><span class="nav-number">2.1.</span> <span class="nav-text">下载并安装LaTeX</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85python"><span class="nav-number">2.2.</span> <span class="nav-text">安装Python</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85ffmpeg"><span class="nav-number">2.3.</span> <span class="nav-text">安装FFmpeg</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85sox"><span class="nav-number">2.4.</span> <span class="nav-text">安装SoX</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E5%90%84%E7%A7%8Dpython%E5%8C%85"><span class="nav-number">2.5.</span> <span class="nav-text">安装各种Python包</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83"><span class="nav-number">2.5.1.</span> <span class="nav-text">创建虚拟环境</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85pycairo%E5%8C%85"><span class="nav-number">2.5.2.</span> <span class="nav-text">安装pycairo包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B0%83%E6%95%B4%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A0%81%E4%B8%BAutf-8"><span class="nav-number">2.5.3.</span> <span class="nav-text">调整系统编码为UTF-8</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85manim"><span class="nav-number">2.5.4.</span> <span class="nav-text">安装Manim</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85pyreadline"><span class="nav-number">2.5.5.</span> <span class="nav-text">安装pyreadline</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A9manim%E6%94%AF%E6%8C%81%E4%B8%AD%E6%96%87"><span class="nav-number">2.5.6.</span> <span class="nav-text">让Manim支持中文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B9%E5%9B%9Egbk%E7%BC%96%E7%A0%81%E5%8F%AF%E9%80%89"><span class="nav-number">2.5.7.</span> <span class="nav-text">改回GBK编码（可选）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E5%AE%89%E8%A3%85%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F"><span class="nav-number">2.6.</span> <span class="nav-text">检查安装是否成功</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E9%80%89%E4%BD%BF%E7%94%A8jupyter-notebook%E7%BC%96%E8%BE%91"><span class="nav-number">2.7.</span> <span class="nav-text">（可选）使用Jupyter Notebook编辑</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0manim"><span class="nav-number">3.</span> <span class="nav-text">开始学习Manim</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E5%85%83%E7%B4%A0"><span class="nav-number">3.1.</span> <span class="nav-text">基本元素</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%A8%E7%94%BB%E4%B8%8E%E6%9A%82%E5%81%9C"><span class="nav-number">3.2.</span> <span class="nav-text">动画与暂停</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%8D%E7%BD%AE%E6%97%8B%E8%BD%AC%E5%92%8C%E5%AD%97%E4%BD%93"><span class="nav-number">3.3.</span> <span class="nav-text">位置、旋转和字体</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B8%B2%E6%9F%93%E8%AE%BE%E7%BD%AE"><span class="nav-number">3.4.</span> <span class="nav-text">渲染设置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tex%E5%85%AC%E5%BC%8F"><span class="nav-number">3.5.</span> <span class="nav-text">TeX公式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84"><span class="nav-number">3.6.</span> <span class="nav-text">数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E6%8D%A2"><span class="nav-number">3.7.</span> <span class="nav-text">变换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E8%A7%86%E5%8C%96%E5%B7%A5%E5%85%B7%E5%92%8C%E6%96%87%E6%A1%A3"><span class="nav-number">3.8.</span> <span class="nav-text">可视化工具和文档</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#d%E5%92%8C3d%E5%9B%BE%E5%83%8F%E7%9A%84%E7%BB%98%E5%88%B6"><span class="nav-number">3.9.</span> <span class="nav-text">2D和3D图像的绘制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="nav-number">3.10.</span> <span class="nav-text">常见问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E7%AE%A1%E7%90%86%E4%B8%80%E7%BB%84%E5%AF%B9%E8%B1%A1"><span class="nav-number">3.10.1.</span> <span class="nav-text">如何管理一组对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E7%BC%A9%E6%94%BE%E6%88%96%E8%80%85%E7%A7%BB%E5%8A%A8%E6%91%84%E5%BD%B1%E6%9C%BA%E8%A7%86%E8%A7%92"><span class="nav-number">3.10.2.</span> <span class="nav-text">如何缩放或者移动摄影机视角</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%8F%AF%E8%A7%86%E5%8C%96%E7%BA%BF%E6%80%A7%E5%8F%98%E6%8D%A2"><span class="nav-number">3.10.3.</span> <span class="nav-text">如何可视化线性变换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E6%B8%85%E9%99%A4%E5%B1%8F%E5%B9%95%E4%B8%8A%E7%9A%84%E6%89%80%E6%9C%89%E5%AF%B9%E8%B1%A1"><span class="nav-number">3.10.4.</span> <span class="nav-text">如何清除屏幕上的所有对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E6%94%BE%E5%A4%A7%E9%95%9C%E6%95%88%E6%9E%9C"><span class="nav-number">3.10.5.</span> <span class="nav-text">如何实现放大镜效果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E7%94%A8%E7%82%B9%E9%9B%86%E6%9D%A5%E7%BB%98%E5%88%B6%E5%9B%BE%E5%83%8F"><span class="nav-number">3.10.6.</span> <span class="nav-text">如何用点集来绘制图像</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E5%92%8C%E5%A3%B0%E9%9F%B3"><span class="nav-number">3.11.</span> <span class="nav-text">插入图片和声音</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A0%E6%9D%90%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="nav-number">3.11.1.</span> <span class="nav-text">素材文件夹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8F%92%E5%85%A5svg"><span class="nav-number">3.11.2.</span> <span class="nav-text">插入SVG</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87"><span class="nav-number">3.11.3.</span> <span class="nav-text">插入图片</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AF%A6%E8%A7%A3manim%E6%96%87%E5%AD%97"><span class="nav-number">3.12.</span> <span class="nav-text">详解Manim文字</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#textmobject"><span class="nav-number">3.12.1.</span> <span class="nav-text">TextMobject</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#texmobject"><span class="nav-number">3.12.2.</span> <span class="nav-text">TexMobject</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#textmobject%E5%92%8Ctexmobject%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">3.12.3.</span> <span class="nav-text">TextMobject和TexMobject的区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#text"><span class="nav-number">3.12.4.</span> <span class="nav-text">Text</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E7%BD%91%E9%A1%B5"><span class="nav-number">4.</span> <span class="nav-text">参考网页</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">想飞的鸡</p>
  <div class="site-description" itemprop="description">文章要认认真真写鸭</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">92</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">63</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/11/24/%E5%AD%A6%E4%B9%A0Manim/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="想飞的鸡">
      <meta itemprop="description" content="文章要认认真真写鸭">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="兴趣使然的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          学习Manim
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-11-24 11:47:22" itemprop="dateCreated datePublished" datetime="2019-11-24T11:47:22+08:00">2019-11-24</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-10-10 20:29:38" itemprop="dateModified" datetime="2021-10-10T20:29:38+08:00">2021-10-10</time>
      </span>

  
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>73k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2:01</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="什么是manim">什么是Manim？</h1>
<p>Manim是Youtube上的UP主3Blue1Brown用来做跟数学和物理有关的动态视频所使用的动画引擎。可以用来制作一些漂亮的动画，比如可视化数学证明、将数学公式的推导动画化、绘制动态的2D图和3D图、做机械结构的动画、甚至制作乐谱和钢琴弹奏的动画。</p>
<p>那么Manim是如何做出这些动画的呢？我们来看看Manim的5个组成部分。</p>
<ol type="1">
<li>Python。不用多说，这是Manim的心脏，生成动画的代码是用Python语言来写的。</li>
<li>LaTeX。用来生成文字和公式。</li>
<li>Cairo。用来绘图。</li>
<li>FFmpeg。用来将图片拼成视频。</li>
<li>SoX。用来负责和音频有关的部分。</li>
</ol>
<p>这5个部分组合在一起使用，于是就能做出有趣的数学视频拉。</p>
<p>Manim已在GitHub上开源，这是<a target="_blank" rel="noopener" href="https://github.com/3b1b/manim">Manim的主页</a>。</p>
<h1 id="在windows上安装">在Windows上安装</h1>
<h2 id="下载并安装latex">下载并安装LaTeX</h2>
<p>这里使用的是MiKTeX，MiKTeX是LaTeX的一个实现，可以理解成LaTeX就是手机这个概念，而MiKTeX就是具体一个牌子的手机。我们在<a target="_blank" rel="noopener" href="https://miktex.org/download">MiKTeX的官网</a>可以下载到安装包（我下载到的版本是2.9.7255的basic MiKTeX），然后按照步骤安装即可。</p>
<div class="note warning"><p>basic MiKTeX有可能会在渲染中文等方面出现包不全的问题，尽量下载完整版或者TeXLive完整版安装使用。</p>
</div>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A21.png" alt="MiKTeX安装界面1.png" /><figcaption aria-hidden="true">MiKTeX安装界面1.png</figcaption>
</figure>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A22.png" alt="MiKTeX安装界面2.png" /><figcaption aria-hidden="true">MiKTeX安装界面2.png</figcaption>
</figure>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A23.png" alt="MiKTeX安装界面3.png" /><figcaption aria-hidden="true">MiKTeX安装界面3.png</figcaption>
</figure>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A24.png" alt="MiKTeX安装界面4.png" /><figcaption aria-hidden="true">MiKTeX安装界面4.png</figcaption>
</figure>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A25.png" alt="MiKTeX安装界面5.png" /><figcaption aria-hidden="true">MiKTeX安装界面5.png</figcaption>
</figure>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A26.png" alt="MiKTeX安装界面6.png" /><figcaption aria-hidden="true">MiKTeX安装界面6.png</figcaption>
</figure>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A27.png" alt="MiKTeX安装界面7.png" /><figcaption aria-hidden="true">MiKTeX安装界面7.png</figcaption>
</figure>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MiKTeX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A28.png" alt="MiKTeX安装界面8.png" /><figcaption aria-hidden="true">MiKTeX安装界面8.png</figcaption>
</figure>
<p>这样就安装好了。</p>
<h2 id="安装python">安装Python</h2>
<p>因为我的电脑上已经安装过Python所以安装的具体过程就不演示了。</p>
<p>这是<a target="_blank" rel="noopener" href="https://www.python.org/">Python的官网</a>。截至目前Manim要求的Python版本是3.8。</p>
<h2 id="安装ffmpeg">安装FFmpeg</h2>
<p>前往<a target="_blank" rel="noopener" href="https://www.ffmpeg.org/">FFmpeg的官网</a>下载对应的版本，我下载到的是4.2.1 win64 static版。下载好的文件应该是一个压缩包，解压并将解压好的文件夹放到一个固定的地方，这里我放到了C盘的根目录下。</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_FFmpeg%E7%9B%AE%E5%BD%95.png" alt="FFmpeg目录.png" /><figcaption aria-hidden="true">FFmpeg目录.png</figcaption>
</figure>
<p>接着需要把bin目录的地址加到环境变量中，如下所示：</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_FFmpeg%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png" alt="FFmpeg添加环境变量.png" /><figcaption aria-hidden="true">FFmpeg添加环境变量.png</figcaption>
</figure>
<p>这里注意是系统变量，不要加错了。</p>
<p>如果操作正确，那么打开命令行输入ffmpeg就能看到下面的内容：</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_FFmpeg%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F.png" alt="FFmpeg安装成功.png" /><figcaption aria-hidden="true">FFmpeg安装成功.png</figcaption>
</figure>
<h2 id="安装sox">安装SoX</h2>
<p>到<a target="_blank" rel="noopener" href="http://sox.sourceforge.net/">SoX的官方网站</a>下载安装包，我下载的版本是14.4.2 win32版本。下载完成后安装即可。</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_SoX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A21.png" alt="SoX安装界面1.png" /><figcaption aria-hidden="true">SoX安装界面1.png</figcaption>
</figure>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_SoX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A22.png" alt="SoX安装界面2.png" /><figcaption aria-hidden="true">SoX安装界面2.png</figcaption>
</figure>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_SoX%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A23.png" alt="SoX安装界面3.png" /><figcaption aria-hidden="true">SoX安装界面3.png</figcaption>
</figure>
<p>安装完成后，和FFmpeg类似，要把SoX的目录加到环境变量中，如下所示：</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_SoX%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png" alt="SoX添加环境变量.png" /><figcaption aria-hidden="true">SoX添加环境变量.png</figcaption>
</figure>
<h2 id="安装各种python包">安装各种Python包</h2>
<p>这里为了隔离无关环境，因此使用Python的virtualenv隔离出一个虚拟环境用来安装相关Python包。</p>
<h3 id="创建虚拟环境">创建虚拟环境</h3>
<p>我在一个我想要的目录下新建了一个叫<code>学习Manim</code>的文件夹，在这个文件夹下打开命令行，输入：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">virtualenv manim_env<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>稍等片刻，就能在当前目录下创建一个名为manim_env的虚拟环境。</p>
<p>之后输入命令：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">source</span> manim_env/Scripts/activate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>就进入了虚拟环境中，在这个环境中安装的包不会影响到Python的全局环境。</p>
<h3 id="安装pycairo包">安装pycairo包</h3>
<p>因为直接pip安装pycairo包大概率会报错，因此需要到这个网站<a target="_blank" rel="noopener" href="https://www.lfd.uci.edu/~gohlke/pythonlibs/">Python Extension Packages for Windows - Christoph Gohlke</a>下载对应版本pycairo的whl文件，由于我是64位Windows系统，Python版本是3.7，因此下载cp37m-win_amd64版本。如下图所示：</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_%E4%B8%8B%E8%BD%BDpycairo.png" alt="下载pycairo.png" /><figcaption aria-hidden="true">下载pycairo.png</figcaption>
</figure>
<p>下载好之后在虚拟环境中运行：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip <span class="token function">install</span> <span class="token punctuation">[</span>你的文件下载的路径<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>出现Successfully installed的信息之后安装就成功了。</p>
<h3 id="调整系统编码为utf-8">调整系统编码为UTF-8</h3>
<p>中文Windows系统的默认编码为GBK，这会导致Manim安装遇到编码问题，因此首先调整系统编码为UTF-8。 打开设置，按照下图的顺序设置就好，设置完会要求系统重启。</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_%E8%B0%83%E6%95%B4%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A0%811.png" alt="调整系统编码1.png" /><figcaption aria-hidden="true">调整系统编码1.png</figcaption>
</figure>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_%E8%B0%83%E6%95%B4%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A0%812.png" alt="调整系统编码2.png" /><figcaption aria-hidden="true">调整系统编码2.png</figcaption>
</figure>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_%E8%B0%83%E6%95%B4%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A0%813.png" alt="调整系统编码3.png" /><figcaption aria-hidden="true">调整系统编码3.png</figcaption>
</figure>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_%E8%B0%83%E6%95%B4%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A0%814.png" alt="调整系统编码4.png" /><figcaption aria-hidden="true">调整系统编码4.png</figcaption>
</figure>
<h3 id="安装manim">安装Manim</h3>
<p>打开之前的虚拟环境，运行：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip <span class="token function">install</span> manimlib<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>等待所有的安装完成就可以了。</p>
<p>另一种方式是直接从GitHub上clone到本地，这里推荐<a target="_blank" rel="noopener" href="https://github.com/manim-kindergarten/manim">manim-kindergarten/manim</a>这个项目。</p>
<h3 id="安装pyreadline">安装pyreadline</h3>
<p>这个包需要手动安装，运行命令（都是在虚拟环境中）：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip <span class="token function">install</span> pyreadline<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="让manim支持中文">让Manim支持中文</h3>
<p>在<code>manim_env\Lib\site-packages\manimlib</code>文件夹下找到<code>constants.py</code>文件，打开它，找到<code>TEX_USE_CTEX = False</code>这一行，改成<code>TEX_USE_CTEX = True</code>之后保存。</p>
<p>（可能需要的操作）：打开<code>manim_env\Lib\site-packages\manimlib\ctex_template.tex</code>文件，将<code>\usepackage[UTF8]&#123;ctex&#125;</code>移动到第二行，保存。</p>
<h3 id="改回gbk编码可选">改回GBK编码（可选）</h3>
<p>安装完之后，你如果想的话，就按照之前的方式，把UTF-8编码改回GBK编码就行了。</p>
<h2 id="检查安装是否成功">检查安装是否成功</h2>
<p>下面从<a target="_blank" rel="noopener" href="https://github.com/3b1b/manim/blob/master/example_scenes.py">这个网址</a>获取<code>example_scenes.py</code>文件，保存到电脑上，然后在命令行（虚拟环境）中打开文件所在的目录，输入下面的命令：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim example_scenes.py SquareToCircle -pl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>暂时不用管这是什么意思，如果运行成功，会在当前目录下生成一个<code>videos</code>文件夹，进去找到<code>SquareToCircle.mp4</code>这个视频，播放一下，如果出现和下面的视频一样的动画，就说明Cairo能正常使用。</p>
<div id="dplayer3" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer3 = new DPlayer({"element":document.getElementById("dplayer3"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_SquareToCircle.mp4"}});</script>
<p>接下来输入下面的命令检查LaTeX：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim example_scenes.py WriteStuff -pl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>如果出现了类似下面的对话框要求你安装一些文件，点击Install安装就行了。</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Package%20Installation.png" alt="Package Installation.png" /><figcaption aria-hidden="true">Package Installation.png</figcaption>
</figure>
<p>如果安装失败，十有八九是无法连接上包软件源，那么就重新运行一次命令，等再次弹出上面的窗口之后，点击<code>Change...</code>，打开下面的对话框。</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Change%20Package%20Repository1.png" alt="Change Package Repository1.png" /><figcaption aria-hidden="true">Change Package Repository1.png</figcaption>
</figure>
<p>选中<code>Remote package repository (Internet)</code>，然后点击<code>Next</code>，进入下面的对话框，稍微等待一下之后，框里会出现源的列表，选择一个<code>China</code>的源，点击<code>Finish</code>。之后再安装。</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Change%20Package%20Repository2.png" alt="Change Package Repository2.png" /><figcaption aria-hidden="true">Change Package Repository2.png</figcaption>
</figure>
<p>运行完之后，同样找到<code>WriteStuff.mp4</code>，播放一下，如果出现和下面一样的动画，就说明LaTeX正常。</p>
<div id="dplayer4" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer4 = new DPlayer({"element":document.getElementById("dplayer4"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_WriteStuff.mp4"}});</script>
<p>最后来测试一下中文，把下面的代码保存到一个名为<code>test_Chinese.py</code>的文件中。先不管它的意思。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#!/usr/bin/env python</span>

<span class="token keyword">from</span> manimlib<span class="token punctuation">.</span>imports <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">class</span> <span class="token class-name">test_cn</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text01 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"黑夜给了我一双黑色的眼睛，"</span><span class="token punctuation">)</span>
        text02 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"我却用它寻找光明。"</span><span class="token punctuation">)</span>
        text03 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"顾城 《一代人》"</span><span class="token punctuation">)</span>
        text_group <span class="token operator">=</span> VGroup<span class="token punctuation">(</span>text01<span class="token punctuation">,</span> text02<span class="token punctuation">)</span>
        text02<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>text01<span class="token punctuation">,</span> DOWN<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text01<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>TransformFromCopy<span class="token punctuation">(</span>text01<span class="token punctuation">,</span> text02<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Transform<span class="token punctuation">(</span>text_group<span class="token punctuation">,</span>text03<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>之后运行：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim test_Chinese.py test_cn -pl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>如果出现了形如<code>Exception: Xelatex error converting to xdv.</code>的错误，先把 <code>manimlib/constants.py</code> 中的 <code>MEDIA_DIR = "./media"</code> 改成 <code>MEDIA_DIR = os.path.join(os.getcwd(), "media")</code> 再进行尝试。</p>
<p>如果找到了下面的动画，说明中文也能正常显示出来了。</p>
<div id="dplayer5" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer5 = new DPlayer({"element":document.getElementById("dplayer5"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_test_cn.mp4"}});</script>
<p>如果你活着到达了这里，恭喜你，安装成功了！</p>
<h2 id="可选使用jupyter-notebook编辑">（可选）使用Jupyter Notebook编辑</h2>
<p>使用pip安装<code>manim-notebook</code>或<code>jupyter-manim</code>。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/AkashKarnatak/manim_notebook">manim-notebook主页</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/krassowski/jupyter-manim">jupyter-manim主页</a></li>
</ul>
<h1 id="开始学习manim">开始学习Manim</h1>
<h2 id="基本元素">基本元素</h2>
<p>打开<code>example_scenes.py</code>文件，可以看到第一行是这样的：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#!/usr/bin/env python</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这一行实际上是给Linux用的，不是给Python解释器（或者你说的“编译器”）用的，它代表如果这个文件当作一个可执行文件来执行的时候，要调用哪个脚本引擎，像一般Shell脚本就会写<code>#!/bin/bash</code>之类。如果直接用Python执行，是不需要的。对Python来说这就是一行注释。</p>
<p>当Linux执行一个文件的时候，如果发现它是这样的格式，就会把<code>!</code>后面的内容提取出来拼在你的脚本文件或路径之前，当作实际执行的命令，对你这个脚本来说就是</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">/usr/bin/env python ./example_scenes.py<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>它代表调用<code>/usr/bin/env</code>，将后面两个值作为参数。env是个Linux命令，它会按照当前环境变量设置（主要是PATH变量），查找名为python的可执行文件，然后用后面的参数启动这个可执行文件，这就避免了将Python写死到固定位置，导致Python安装到其他可选位置（如<code>/usr/local/bin/</code>）下时脚本不可用的问题。</p>
<p>扯远了，总之在Windows下这行就是个没用的注释。不写也没关系。</p>
<p>第三行</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> manimlib<span class="token punctuation">.</span>imports <span class="token keyword">import</span> <span class="token operator">*</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>表示导入Manim包中的所有内容，如果没有这一行就没办法使用Manim库。</p>
<p>在<code>manim_env\Lib\site-packages\manimlib\imports.py</code>这个文件中你可以找到所有Manim用到的包，比如numpy、math之类的，这个文件不要动它。</p>
<p>我们接下来学习如何从这些代码中输出动画。这里假设你了解Python的语法。</p>
<p>对于Python来说，每个动画都是一个从Scene继承的类，每个这样的类里要求必须有一个名为construct的函数，就像下面这样：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">NameOfScene</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Animation progress</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>所有的动画代码都写在construct函数的里面。</p>
<p>在<code>example_scenes.py</code>中，我们可以找到5个类：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">OpeningManimExample</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">SquareToCircle</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">WarpSquare</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">WriteStuff</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">UpdatersExample</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>其中就包括了刚才用来测试的<code>SquareToCircle</code>类和<code>WriteStuff</code>类。我们接下来从<code>OpeningManimExample</code>中输出动画，这样你就能知道Manim是怎么工作的了。</p>
<p>在文件目录下打开虚拟环境，然后输入：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">manim example_scenes<span class="token punctuation">.</span>py OpeningManimExample <span class="token operator">-</span>pl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>格式就是manim+文件名+你要输出动画的类名+参数。</p>
<p>我们现在可以解释一下<code>-pl</code>是什么意思了。其中<code>p</code>表示preview，意思是输出完成后自动播放，<code>l</code>意思是low quality，在这里表示输出视频为480p、15fps，默认视频长宽比为16：9。之后会更详细的介绍更多渲染的选项。</p>
<p>等待输出完成你就可以看到效果了。</p>
<div id="dplayer6" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer6 = new DPlayer({"element":document.getElementById("dplayer6"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_OpeningManimExample.mp4"}});</script>
<p>新建一个文件<code>basic_elements.py</code>，我们来编写第一个动画。打开文件，输入如下内容：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> manimlib<span class="token punctuation">.</span>imports <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">class</span> <span class="token class-name">FirstScene</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"text"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>第一行还是导入Manim的包。然后定义一个名为FirstScene的类。第5行，我们定义了一个变量text，TextMobject表示这是一行文字。第6行的作用是把这行文字加入到场景中，这样我们才能在动画里看到它。第6行的self我们暂时理解为存储着所有在屏幕上看到的对象。add这个函数表示把对象加到场景中，在这里对象是一行文字。</p>
<p>接下来我们来输出这个类。运行下面的指令：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim basic_elements.py FirstScene -ps<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>如果类名写错了或者不写，Manim会列出文件中有的所有类，并且让你选择，很方便。</p>
<p>最新版的Manim由于3b1b个人习惯，列出的类还会包括同一个目录下的其它文件，这样会导致列出的类过多，我们需要找到<code>manim_env\Lib\site-packages\manimlib\extract_scene.py</code>这个文件，将处于第60行左右的这一部分代码从：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">is_child_scene</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> module<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> inspect<span class="token punctuation">.</span>isclass<span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">issubclass</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">if</span> obj <span class="token operator">==</span> Scene<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">return</span> <span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>改成</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">is_child_scene</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> module<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> inspect<span class="token punctuation">.</span>isclass<span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">issubclass</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">if</span> obj <span class="token operator">==</span> Scene<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> obj<span class="token punctuation">.</span>__module__<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span>module<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">return</span> <span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>保存一下，这样提示就只会列出当前文件中的类了。</p>
<p>这里我们用<code>-ps</code>表示输出一张图片而不是一段视频。运行完成后会在<code>videos\first_scene\images\</code>目录下生成一张名为<code>FirstScene.png</code>的图片，长成下面这个样子。</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_FirstScene.png" alt="FirstScene.png" /><figcaption aria-hidden="true">FirstScene.png</figcaption>
</figure>
<p>这个类是没有办法导出成视频的，因为没有什么动画，如果你导出成视频，FFmpeg会报错。</p>
<h2 id="动画与暂停">动画与暂停</h2>
<p>我们接下来学习如何给文字加上动画和暂停。之前写的类只能输出图片，是因为使用的是<code>self.add()</code>，这个函数不会有动画效果。</p>
<p>我们新建一个文件<code>animations_and_pauses.py</code>，然后输入下面的代码：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> manimlib<span class="token punctuation">.</span>imports <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">class</span> <span class="token class-name">WriteText</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"This is a regular text"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>前5行之前已经认识了，第6行和第7行是新东西。现在来解释一下第6行和第7行是什么意思。</p>
<p>我们之前说过，self中保存着所有在屏幕上显示的对象，用add函数可以添加对象，但是没有任何动画。要为对象添加动画，需要使用<code>self.play()</code>。在参数中写<code>Write()</code>函数表示这个动画是写出字的效果，而Write的参数表示要画出动画的对象。这就是第6行的含义。</p>
<p>第7行表示将画面暂停3秒钟，我们使用<code>self.wait()</code>来暂停，参数里的数字表示暂停的时间，单位是秒，如果不填写参数，默认的暂停时间是1秒钟。</p>
<p>所以总结一下创建动画的逻辑是这样的：先声明一个文字对象（第5行），然后对这个对象应用一个动画（第6行），最后暂停3秒钟（第7行）。动画是从上往下按顺序一行一行执行的。要导出视频，动画必须要持续一段时间，而<code>play()</code>和<code>wait()</code>都能做到，但是<code>add()</code>不能。</p>
<p>我们来导出一下：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim animations_and_pauses.py WriteText -pl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>会得到下面的视频：</p>
<div id="dplayer7" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer7 = new DPlayer({"element":document.getElementById("dplayer7"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_WriteText.mp4"}});</script>
<p>我们接下来学习把对象从屏幕移除，在代码最后加入下面的语句：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">WriteText</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># ...</span>
        self<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>上面的第4行表示把对象text从屏幕移除，这个移除是瞬间的，所以text会瞬间消失。之后第5行没有任何参数，表示等待1秒钟。</p>
<p>我们在play函数中没有指定动画的时长，是因为play已经有默认的动画时长了，如果要指定长度的动画，应该怎么办呢？我们可以把原先的代码改成下面这样：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">WriteText</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># ...</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">,</span> run_time<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token comment"># ...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>新加的参数<code>run_time</code>可以指定动画的时长，单位也是秒，写成上面的形式之后，写字的动画就会持续3秒钟。</p>
<p>除了<code>Write()</code>之外，还有很多其他的动画，我们可以到<code>manim_env\Lib\site-packages\manimlib\animation\</code>中找到其他的动画名字。打开<code>creation.py</code>你可以看到类似下面的一些类：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ShowPartial</span><span class="token punctuation">(</span>Animation<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">ShowCreation</span><span class="token punctuation">(</span>ShowPartial<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">Uncreate</span><span class="token punctuation">(</span>ShowCreation<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">DrawBorderThenFill</span><span class="token punctuation">(</span>Animation<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">Write</span><span class="token punctuation">(</span>DrawBorderThenFill<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">ShowIncreasingSubsets</span><span class="token punctuation">(</span>Animation<span class="token punctuation">)</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>你可以发现<code>Write()</code>是在这定义的。打开<code>fading.py</code>和<code>growing.py</code>还可以发现其它的函数，比如：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># fading.py</span>

<span class="token keyword">class</span> <span class="token class-name">FadeOut</span><span class="token punctuation">(</span>Transform<span class="token punctuation">)</span><span class="token punctuation">:</span>
  
<span class="token keyword">class</span> <span class="token class-name">FadeIn</span><span class="token punctuation">(</span>Transform<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">FadeInFrom</span><span class="token punctuation">(</span>Transform<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">FadeInFromDown</span><span class="token punctuation">(</span>FadeInFrom<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">FadeOutAndShift</span><span class="token punctuation">(</span>FadeOut<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">FadeOutAndShiftDown</span><span class="token punctuation">(</span>FadeOutAndShift<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">FadeInFromPoint</span><span class="token punctuation">(</span>FadeIn<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">FadeInFromLarge</span><span class="token punctuation">(</span>FadeIn<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">VFadeIn</span><span class="token punctuation">(</span>Animation<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">VFadeOut</span><span class="token punctuation">(</span>VFadeIn<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">VFadeInThenOut</span><span class="token punctuation">(</span>VFadeIn<span class="token punctuation">)</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># growing.py</span>

<span class="token keyword">class</span> <span class="token class-name">GrowFromPoint</span><span class="token punctuation">(</span>Transform<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">GrowFromCenter</span><span class="token punctuation">(</span>GrowFromPoint<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">GrowFromEdge</span><span class="token punctuation">(</span>GrowFromPoint<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">GrowArrow</span><span class="token punctuation">(</span>GrowFromPoint<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token keyword">class</span> <span class="token class-name">SpinInFromNothing</span><span class="token punctuation">(</span>GrowFromCenter<span class="token punctuation">)</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>可以尝试一下哪些可以用在text上哪些不行。我自己尝试的效果在下面，有些函数可能用法不对，之后再补充。</p>
<div id="dplayer8" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer8 = new DPlayer({"element":document.getElementById("dplayer8"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_testAnimations.mp4"}});</script>
<h2 id="位置旋转和字体">位置、旋转和字体</h2>
<p>我们现在学习除了文字之外的第一种对象——点。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Positions</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">object</span> <span class="token operator">=</span> Dot<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>渲染一下你就能在视频中看到一个点了。</p>
<p>就像代码中展示的那样，这个点是一个对象，而对象具有属性（变量）和方法（函数）。我们现在来学习怎样修改点的位置，这是通过类的方法来实现的。</p>
<p>“位置”这个属性可以分为两种：</p>
<ul>
<li>绝对位置</li>
<li>相对位置</li>
</ul>
<p>而修改点的绝对位置有两种方法：<code>.to_edge()</code>和<code>.to_corner()</code>，从名字就可以看出来这是将点移动到边和角上的方法。先来看<code>.to_edge()</code>其中的参数可以填<code>UP</code>、<code>DOWN</code>、<code>LEFT</code>、<code>RIGHT</code>。我们可以像下面这样使用：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Positions</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">object</span> <span class="token operator">=</span> Dot<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token builtin">object</span><span class="token punctuation">.</span>to_edge<span class="token punctuation">(</span>UP<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>UP</code>、<code>DOWN</code>、<code>LEFT</code>、<code>RIGHT</code>本质上是四个numpy的数组</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">UP    <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
DOWN  <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
LEFT  <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
RIGHT <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>可以看出第一位表示左右，从左到右对应-1到1，第二位表示上下，从下到上对应-1到1，就像一个平面直角坐标系一样。</p>
<p>类似的，想将点移动到角上，可以用<code>.to_corner()</code>方法，对应的参数同样有四个<code>UR</code>、<code>UL</code>、<code>DR</code>、<code>DL</code>，本质上它们也是numpy数组：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">UR <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
UL <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
DR <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
DL <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>对应关系也很容易看出来，就好像一个点的x，y坐标一样。</p>
<p>当然，既然是numpy数组，意味着是可以做计算的，比如<code>.to_corner(UR)</code>，你也可以写成<code>.to_corner(UP+RIGHT)</code>。</p>
<p>如果渲染之后你会发现，尽管使用了<code>.to_edge()</code>，但是点似乎离视频的边还有一小段距离。这是因为默认情况下，点中有一个属性buff，表示点和边之间的间隙。要想显式地指定间隙的大小，可以这样写：<code>.to_edge(DIRECTION, buff=NUMBER)</code></p>
<p>接下来是相对位置。第一个指定相对位置的方法是<code>.move_to()</code>，参数是一个向量。我们可以像下面一样：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Positions</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">object</span> <span class="token operator">=</span> Dot<span class="token punctuation">(</span><span class="token punctuation">)</span>
        vector <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token string">'float64'</span><span class="token punctuation">)</span>
        <span class="token comment">#                  x  y  z</span>
        <span class="token builtin">object</span><span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>vector<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这样点就会出现在相对于正中间(1, 2)的位置上，也就是右上部分的位置上。这里所有的向量坐标都是相对于视频正中间的。另外，<code>.move_to()</code>没有动画效果，是瞬时的。</p>
<p>上面的代码还可以写成下面的样子，效果是完全一样的，你可以思考一下为什么：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Positions</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">object</span> <span class="token operator">=</span> Dot<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token builtin">object</span><span class="token punctuation">.</span>move_to<span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>UP<span class="token operator">+</span>RIGHT<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>如果我们想把一个点移到另一个对象（比如一段文字）的中心，我们可以这么做：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Positions</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">object</span> <span class="token operator">=</span> Dot<span class="token punctuation">(</span><span class="token punctuation">)</span>
        text <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"here"</span><span class="token punctuation">)</span>
        text<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">*</span>DOWN<span class="token operator">+</span><span class="token number">4</span><span class="token operator">*</span>LEFT<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
        <span class="token builtin">object</span><span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>更进一步，如果我们想把一个点移动到文字的右边5个单位的位置时，就需要用到<code>.get_center()</code>方法了，这个方法可以获取一个对象的中心坐标，获得坐标之后就可以参与计算了。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Positions</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">object</span> <span class="token operator">=</span> Dot<span class="token punctuation">(</span><span class="token punctuation">)</span>
        text <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"here"</span><span class="token punctuation">)</span>
        text<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">*</span>DOWN<span class="token operator">+</span><span class="token number">4</span><span class="token operator">*</span>LEFT<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
        <span class="token builtin">object</span><span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>text<span class="token punctuation">.</span>get_center<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">5</span><span class="token operator">*</span>RIGHT<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>下面一个方法<code>.next_to()</code>正如名字一样，不是以物体的中心为参照的，而是物体的边界，所以这个方法不会产生重叠，而是会把对象“靠着”放。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Positions</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">object</span> <span class="token operator">=</span> Dot<span class="token punctuation">(</span><span class="token punctuation">)</span>
        text <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"here"</span><span class="token punctuation">)</span>
        text<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">*</span>DOWN<span class="token operator">+</span><span class="token number">4</span><span class="token operator">*</span>LEFT<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
        <span class="token builtin">object</span><span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>text<span class="token punctuation">,</span> RIGHT<span class="token punctuation">,</span> buff<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>从上面可以看出<code>.next_to()</code>的用法，第一个参数表示参照对象，第二个表示方向，第三个表示间距，例子里的间距5，就是相对于text的右边缘，而不是中心。所以用<code>.next_to()</code>画出的点，会比<code>.move_to()</code>的稍稍靠右一点点。</p>
<p>最后一个相对位置的方法是<code>.shift()</code>，这个可以简单理解为移动的意思，参数就表示要移动的方向和距离（用向量来表示）。比如：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Positions</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">object</span> <span class="token operator">=</span> Dot<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>UP<span class="token operator">+</span>RIGHT<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>shift<span class="token punctuation">(</span>RIGHT<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>第5行把点移到了坐标为(1, 1)的地方，而第7行则在这个基础上再往右移了一个单位，也就是移到了(2, 1)的位置。</p>
<p>接下来说说怎么旋转一个对象。我们先来旋转一段文字。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Positions</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span>
        text<span class="token punctuation">.</span>rotate<span class="token punctuation">(</span>PI<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment"># 弧度制</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>使用<code>.rotate()</code>方法，加上你要旋转的角度（用弧度制），对象就会在原来的基础上逆时针旋转对应的角度（负数就是顺时针旋转）。这个旋转是瞬时的。</p>
<p>如果想指定旋转中心，我们需要用参数<code>about_point</code>来指定。比如在下面一段代码中，我们想让点2以点1为旋转中心，逆时针旋转110°。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Positions</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        dot1<span class="token punctuation">,</span> dot2 <span class="token operator">=</span> Dot<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Dot<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>dot1<span class="token punctuation">,</span> dot2<span class="token punctuation">)</span>
        dot1<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>UP<span class="token punctuation">)</span>
        dot2<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>LEFT<span class="token operator">+</span>DOWN<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        dot2<span class="token punctuation">.</span>rotate<span class="token punctuation">(</span><span class="token number">110</span><span class="token operator">*</span>DEGREES<span class="token punctuation">,</span> about_point<span class="token operator">=</span>dot1<span class="token punctuation">.</span>get_center<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>从第8行可以知道2件事情：</p>
<ol type="1">
<li>如果不想使用弧度而想使用角度可以像第一个参数那样写</li>
<li>赋给<code>about_point</code>的不是一个对象（比如点），而是一个坐标。</li>
</ol>
<p>如果想翻转一个对象，可以使用<code>.flip()</code>方法，参数用来指定翻转的轴：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Positions</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span>
        text<span class="token punctuation">.</span>flip<span class="token punctuation">(</span>UP<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>上面的代码会把Text上下翻转。</p>
<p>最后我们来看一下如何指定字体。这是用LaTeX的格式来实现的。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">SizeTextOnLaTeX</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        textHuge <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"&#123;\\Huge Huge Text 012.\\#!?&#125; Text"</span><span class="token punctuation">)</span>
        texthuge <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"&#123;\\huge huge Text 012.\\#!?&#125; Text"</span><span class="token punctuation">)</span>
        textLARGE <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"&#123;\\LARGE LARGE Text 012.\\#!?&#125; Text"</span><span class="token punctuation">)</span>
        textLarge <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"&#123;\\Large Large Text 012.\\#!?&#125; Text"</span><span class="token punctuation">)</span>
        textlarge <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"&#123;\\large large Text 012.\\#!?&#125; Text"</span><span class="token punctuation">)</span>
        textNormal <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"&#123;\\normalsize normal Text 012.\\#!?&#125; Text"</span><span class="token punctuation">)</span>
        textsmall <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"&#123;\\small small Text 012.\\#!?&#125; Texto normal"</span><span class="token punctuation">)</span>
        textfootnotesize <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"&#123;\\footnotesize footnotesize Text 012.\\#!?&#125; Text"</span><span class="token punctuation">)</span>
        textscriptsize <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"&#123;\\scriptsize scriptsize Text 012.\\#!?&#125; Text"</span><span class="token punctuation">)</span>
        texttiny <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"&#123;\\tiny tiny Texto 012.\\#!?&#125; Text normal"</span><span class="token punctuation">)</span>
        textHuge<span class="token punctuation">.</span>to_edge<span class="token punctuation">(</span>UP<span class="token punctuation">)</span>
        texthuge<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>textHuge<span class="token punctuation">,</span>DOWN<span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
        textLARGE<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>texthuge<span class="token punctuation">,</span>DOWN<span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
        textLarge<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>textLARGE<span class="token punctuation">,</span>DOWN<span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
        textlarge<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>textLarge<span class="token punctuation">,</span>DOWN<span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
        textNormal<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>textlarge<span class="token punctuation">,</span>DOWN<span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
        textsmall<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>textNormal<span class="token punctuation">,</span>DOWN<span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
        textfootnotesize<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>textsmall<span class="token punctuation">,</span>DOWN<span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
        textscriptsize<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>textfootnotesize<span class="token punctuation">,</span>DOWN<span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
        texttiny<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>textscriptsize<span class="token punctuation">,</span>DOWN<span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>textHuge<span class="token punctuation">,</span>texthuge<span class="token punctuation">,</span>textLARGE<span class="token punctuation">,</span>textLarge<span class="token punctuation">,</span>textlarge<span class="token punctuation">,</span>textNormal<span class="token punctuation">,</span>
                 textsmall<span class="token punctuation">,</span>textfootnotesize<span class="token punctuation">,</span>textscriptsize<span class="token punctuation">,</span>texttiny<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">TextFonts</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        textNormal <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"&#123;Roman serif text 012.\\#!?&#125; Text"</span><span class="token punctuation">)</span>
        textItalic <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"\\textit&#123;Italic text 012.\\#!?&#125; Text"</span><span class="token punctuation">)</span>
        textTypewriter <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"\\texttt&#123;Typewritter text 012.\\#!?&#125; Text"</span><span class="token punctuation">)</span>
        textBold <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"\\textbf&#123;Bold text 012.\\#!?&#125; Text"</span><span class="token punctuation">)</span>
        textSL <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"\\textsl&#123;Slanted text 012.\\#!?&#125; Text"</span><span class="token punctuation">)</span>
        textSC <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"\\textsc&#123;Small caps text 012.\\#!?&#125; Text"</span><span class="token punctuation">)</span>
        textNormal<span class="token punctuation">.</span>to_edge<span class="token punctuation">(</span>UP<span class="token punctuation">)</span>
        textItalic<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>textNormal<span class="token punctuation">,</span>DOWN<span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">)</span>
        textTypewriter<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>textItalic<span class="token punctuation">,</span>DOWN<span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">)</span>
        textBold<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>textTypewriter<span class="token punctuation">,</span>DOWN<span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">)</span>
        textSL<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>textBold<span class="token punctuation">,</span>DOWN<span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">)</span>
        textSC<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>textSL<span class="token punctuation">,</span>DOWN<span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>textNormal<span class="token punctuation">,</span>textItalic<span class="token punctuation">,</span>textTypewriter<span class="token punctuation">,</span>textBold<span class="token punctuation">,</span>textSL<span class="token punctuation">,</span>textSC<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>熟悉LaTeX的语法就能很容易看出来指定字体是怎么办到的。</p>
<h2 id="渲染设置">渲染设置</h2>
<p>我们现在学习一些最重要的渲染设置。</p>
<p>作为例子，首先把下面的代码保存成名为<code>rendering_settings.py</code>的文件。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> manimlib<span class="token punctuation">.</span>imports <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">class</span> <span class="token class-name">RenderingSettings</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Texts</span>
        obj1 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span>
        obj2 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_corner<span class="token punctuation">(</span>UL<span class="token punctuation">)</span>
        obj3 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_corner<span class="token punctuation">(</span>UR<span class="token punctuation">)</span>
        obj4 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'D'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_corner<span class="token punctuation">(</span>DR<span class="token punctuation">)</span>
        obj5 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'E'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_corner<span class="token punctuation">(</span>DL<span class="token punctuation">)</span>

        <span class="token comment"># Animations</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>obj3<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>obj4<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>obj5<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>保存后用下面的命令进行渲染：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim rendering_settings.py RenderingSettings -pl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>我们会得到一段视频。从视频属性或者文件夹的名称<code>480p15</code>我们可以知道，视频的fps是15帧每秒，宽854像素，高480像素，宽高比为16:9。</p>
<p>现在我们换一个渲染设置<code>-pm</code>：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim rendering_settings.py RenderingSettings -pm<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>会得到一段新视频。从视频属性或文件夹名称<code>720p30</code>我们可以知道，视频的fps是30帧每秒，宽1280像素，高720像素，宽高比为16:9。视频质量变高了。</p>
<p>我们再把渲染设置换成<code>-p</code>：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim rendering_settings.py RenderingSettings -p<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>又会得到一段新视频。从视频属性或文件夹名称<code>1440p60</code>我们可以知道，视频的fps是60帧每秒，宽2560像素，高1440像素，宽高比为16:9。视频质量又变高了。</p>
<p>从上面归纳一下，<code>-p</code>是在渲染完后自动打开视频，<code>-l</code>表示low_quality，<code>-m</code>表示meduim_quality，不显式指定则表示high_quality。</p>
<p>我们之前提到<code>-ps</code>可以渲染一张图片，准确来说<code>-s</code>指的是渲染视频的最后一帧，这一般用于检查是否有错误。这样就不用为了最后的一点片段渲染整个视频了。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim rendering_settings.py RenderingSettings -ps<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>执行完命令后会直接弹出最后一帧的图片。</p>
<p>其实我们可以一次渲染很多场景，比如在<code>example_scenes.py</code>文件里有很多类，这时候我们可以：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim example_scenes.py -ps<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>之后我们可以一次选择多个场景（用数字来选择），用逗号分隔。</p>
<p>选择完成之后Manim会渲染你选择的所有场景，渲染完之后会打开所有的结果。</p>
<p>如果想要渲染一个<code>.py</code>文件里的所有场景，可以使用<code>-a</code>参数。比如：</p>
<ul>
<li><code>-al</code> All scenes in low resolution</li>
<li><code>-am</code> All scenes in medium resolution</li>
<li><code>-a</code> All scenens in high resolution</li>
<li><code>-as</code> All scenes' last frames as images</li>
</ul>
<p>用<code>-r HEIGHT</code>可以显式地指定视频的高度。比如：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim rendering_settings.py RenderingSettings -plr <span class="token number">700</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这样输出的视频高度就是700像素。不过长宽比始终会是16:9。</p>
<p>有了这条命令之后就可以实现对帧率的单独控制了：</p>
<ul>
<li><code>-plr HEIGHT</code> 15fps</li>
<li><code>-pmr HEIGHT</code> 30fps</li>
<li><code>-pr HEIGHT</code> 60fps</li>
</ul>
<p>如果需要渲染一个带alpha通道（也就是透明度）的视频，可以用<code>-t</code>参数。</p>
<p>默认长宽比是16:9，这个长宽比是否可以改变呢？当然可以，格式是这样的<code>-r HEIGHT, WIDTH</code>。</p>
<p>渲染过程中会出现进度条，不过一般都是进度条走完就消失了，如果想保留进度条，我们可以用<code>--leave_progress_bars</code>参数。</p>
<p>上面的这个参数有什么用呢？一个典型的场景就是，假设你的场景非常复杂，你只需要渲染其中一个部分，这时候你就可以使用<code>-n</code>参数。这个参数有两种用法。</p>
<ul>
<li><code>-n START</code>从第START个动画开始渲染，一直渲染到结束。</li>
<li><code>-n START, END+1</code>从第START个动画开始渲染，渲染到第END个动画。</li>
</ul>
<p>这里就涉及到一个问题，如何确定代码里的动画是第几个呢？</p>
<p>比如下面的代码：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">RenderingSettings</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Texts</span>
        obj1 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span>
        obj2 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_corner<span class="token punctuation">(</span>UL<span class="token punctuation">)</span>
        obj3 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_corner<span class="token punctuation">(</span>UR<span class="token punctuation">)</span>
        obj4 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'D'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_corner<span class="token punctuation">(</span>DR<span class="token punctuation">)</span>
        obj5 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'E'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_corner<span class="token punctuation">(</span>DL<span class="token punctuation">)</span>

        <span class="token comment"># Animations</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 0</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>           <span class="token comment"># 1</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 2</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>           <span class="token comment"># 3</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>obj3<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 4</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>           <span class="token comment"># 5</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>obj4<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 6</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>           <span class="token comment"># 7</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>obj5<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 8</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>           <span class="token comment"># 9</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>代码中标出来的数字就表示这是第几段动画。比如我想要渲染obj3到obj4的动画，我可以这样写：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim rendering_settings.py RenderingSettings -pl -n <span class="token number">4,8</span> --leave_progress_bars<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>输出的一部分是这样的：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Animation <span class="token number">0</span>: WriteTextMobject: <span class="token number">100</span>%<span class="token operator">|</span>▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒<span class="token operator">|</span> <span class="token number">1</span>/1 <span class="token punctuation">[</span>00:0<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>00:00, <span class="token number">165</span>.43it/s<span class="token punctuation">]</span>
Animation <span class="token number">2</span>: WriteTextMobject: <span class="token number">100</span>%<span class="token operator">|</span>▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒<span class="token operator">|</span> <span class="token number">1</span>/1 <span class="token punctuation">[</span>00:0<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>00:00, <span class="token number">276</span>.47it/s<span class="token punctuation">]</span>
Animation <span class="token number">4</span>: WriteTextMobject: <span class="token number">100</span>%<span class="token operator">|</span>▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒<span class="token operator">|</span> <span class="token number">15</span>/15 <span class="token punctuation">[</span>00:0<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>00:00, <span class="token number">96</span>.83it/s<span class="token punctuation">]</span>
Animation <span class="token number">6</span>: WriteTextMobject: <span class="token number">100</span>%<span class="token operator">|</span>▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒<span class="token operator">|</span> <span class="token number">15</span>/15 <span class="token punctuation">[</span>00:0<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>00:00, <span class="token number">105</span>.95it/s<span class="token punctuation">]</span>
Media will be written to ./media<span class="token punctuation">\</span>. You can change this behavior with the --media_dir flag.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>我们可以看到，Animation 0和Animation 2，分别对应了obj1和obj2的渲染，也就是代码里的第11和第14行。进度条后面的<code>1/1</code>就表示只渲染了1帧，而Animation 6后面的动画都没有渲染，这就表示我们达到了只渲染obj3和obj4的目的。</p>
<p>但是如果场景过于复杂呢？难道我们都要从头开始数吗？其实不需要，我们可以在代码里<code>print()</code>出一些信息，比如：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">RenderingSettings</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Texts</span>
        obj1 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span>
        obj2 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_corner<span class="token punctuation">(</span>UL<span class="token punctuation">)</span>
        obj3 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_corner<span class="token punctuation">(</span>UR<span class="token punctuation">)</span>
        obj4 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'D'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_corner<span class="token punctuation">(</span>DR<span class="token punctuation">)</span>
        obj5 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'E'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_corner<span class="token punctuation">(</span>DL<span class="token punctuation">)</span>

        <span class="token comment"># Animations</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 0</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>           <span class="token comment"># 1</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 2</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>           <span class="token comment"># 3</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Write obj3"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>obj3<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 4</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>           <span class="token comment"># 5</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>obj4<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 6</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>           <span class="token comment"># 7</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>obj5<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 8</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>           <span class="token comment"># 9</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>注意第17行加入了print信息。这时候再使用<code>--leave_progress_bars</code>显示进度条信息：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim rendering_settings.py RenderingSettings -pl --leave_progress_bars<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这时候我们就能从输出看到：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Animation <span class="token number">0</span>: WriteTextMobject: <span class="token number">100</span>%<span class="token operator">|</span>▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒<span class="token operator">|</span> <span class="token number">15</span>/15 <span class="token punctuation">[</span>00:0<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>00:00, <span class="token number">103</span>.73it/s<span class="token punctuation">]</span>
Animation <span class="token number">2</span>: WriteTextMobject: <span class="token number">100</span>%<span class="token operator">|</span>▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒<span class="token operator">|</span> <span class="token number">15</span>/15 <span class="token punctuation">[</span>00:0<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>00:00, <span class="token number">99</span>.62it/s<span class="token punctuation">]</span>
Write obj3
Animation <span class="token number">4</span>: WriteTextMobject: <span class="token number">100</span>%<span class="token operator">|</span>▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒<span class="token operator">|</span> <span class="token number">15</span>/15 <span class="token punctuation">[</span>00:0<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>00:00, <span class="token number">101</span>.64it/s<span class="token punctuation">]</span>
Animation <span class="token number">6</span>: WriteTextMobject: <span class="token number">100</span>%<span class="token operator">|</span>▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒<span class="token operator">|</span> <span class="token number">15</span>/15 <span class="token punctuation">[</span>00:0<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>00:00, <span class="token number">101</span>.62it/s<span class="token punctuation">]</span>
Animation <span class="token number">8</span>: WriteTextMobject: <span class="token number">100</span>%<span class="token operator">|</span>▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒<span class="token operator">|</span> <span class="token number">15</span>/15 <span class="token punctuation">[</span>00:0<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>00:00, <span class="token number">98</span>.30it/s<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>可以看到Write obj3的下一行正好就是Animation 4，和代码里是一致的。这样就可以知道你想要的片段是第几个了。这时候再使用<code>-n</code>就清楚你想要的片段编号是多少了。</p>
<div class="note info"><p>这个方法在git bash下面行不通，在cmd上是可以用的</p>
</div>
<p>如果想改变输出文件的名称，可以使用<code>-o OUTPUT_NAME</code>。</p>
<h2 id="tex公式">TeX公式</h2>
<p>我们现在来学习如何写TeX公式。</p>
<p>如果不会写TeX公式呢，这里推荐一个网站：<a target="_blank" rel="noopener" href="https://www.codecogs.com/latex/eqneditor.php?lang=zh-cn">在线LaTeX公式编辑器</a>（另外一个强烈推荐的网站：<a target="_blank" rel="noopener" href="https://www.latexlive.com/">在线LaTeX公式编辑器-妈叔出品</a>）。只需要鼠标点击就能生成想要的公式了，不仅可以显示对应的TeX代码，还能直接生成公式图片。如果不知道一些符号该怎么写也可以去这个网站查看。</p>
<div class="note info"><p>一般用<code>\frac{a}{b}</code>来生成分数，但是在Manim使用<code>{a}\over{b}</code>更好，待会会说明为什么。</p>
</div>
<p>新建一个名为<code>tex_formulas.py</code>的文件，然后新建一个场景名为Formula，如下：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> manimlib<span class="token punctuation">.</span>imports <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">class</span> <span class="token class-name">Formula</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        formula_tex <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
        formula_tex<span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>formula_tex<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>注意，要插入一个公式用的是<code>TexMobject</code>，而不是<code>TextMobject</code>，两者仅仅差了一个字母t。</p>
<p>第6行表示把公式放大2倍，这个很好理解。如果想把对象放缩，用<code>.scale(factor)</code>就好了，他会把对象的大小变为原来的factor倍。</p>
<p>然后在第5行的引号中输入你想插入的公式，比如导数的定义：</p>
<pre class="line-numbers language-latex" data-language="latex"><code class="language-latex"><span class="token function selector">\frac</span><span class="token punctuation">&#123;</span>d<span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>dx<span class="token punctuation">&#125;</span>f(x)=<span class="token function selector">\lim</span>_<span class="token punctuation">&#123;</span>h<span class="token function selector">\rightarrow</span> 0<span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token function selector">\frac</span><span class="token punctuation">&#123;</span>f(x+h)-f(x)<span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>h<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><span class="math display">\[
\frac{d}{dx}f(x)=\lim_{h\rightarrow 0}{\frac{f(x+h)-f(x)}{h}}
\]</span></p>
<p>我们把上面的代码放到引号中：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> manimlib<span class="token punctuation">.</span>imports <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">class</span> <span class="token class-name">Formula</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        formula_tex <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"\frac&#123;d&#125;&#123;dx&#125;f(x)=\lim_&#123;h\rightarrow 0&#125;&#123;\frac&#123;f(x+h)-f(x)&#125;&#123;h&#125;&#125;"</span><span class="token punctuation">)</span>
        formula_tex<span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>formula_tex<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>之后我们需要把TeX格式的公式转换成Python格式，有2种方法：</p>
<ol type="1">
<li>把所有的反下划线<code>\</code>都变成<code>\\</code>，比如<code>\frac</code>变成<code>\\frac</code>。</li>
<li>在字符串前面加上<code>r</code>，这在Python中表示这个字符串是一个非转义的原始字符串。</li>
</ol>
<p>转换完之后是这样的：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> manimlib<span class="token punctuation">.</span>imports <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">class</span> <span class="token class-name">Formula</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        formula_tex <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"\\frac&#123;d&#125;&#123;dx&#125;f(x)=\\lim_&#123;h\\rightarrow 0&#125;&#123;\\frac&#123;f(x+h)-f(x)&#125;&#123;h&#125;&#125;"</span><span class="token punctuation">)</span> <span class="token comment"># 第1种方法</span>
        formula_tex <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">r"\frac&#123;d&#125;&#123;dx&#125;f(x)=\lim_&#123;h\rightarrow 0&#125;&#123;\frac&#123;f(x+h)-f(x)&#125;&#123;h&#125;&#125;"</span><span class="token punctuation">)</span> <span class="token comment"># 第2种方法</span>
        formula_tex<span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>formula_tex<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>第5行和第6行都是正确的写法，选其中一种就可以了。</p>
<p>用下面的命令渲染一下：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim tex_formulas.py Formula -ps<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>就可以渲染出下面的图片了。</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Formula.png" alt="Formula.png" /><figcaption aria-hidden="true">Formula.png</figcaption>
</figure>
<p>当然，使用<code>TextMobject()</code>来书写公式也是可以的，不过要把公式放在<code>$</code>中间。这时候的公式是行内公式，会显得比较紧凑，和正常的公式有些不同。比如：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">InlineFormula</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        formula_tex <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">r"Fraction: $\frac&#123;d&#125;&#123;dx&#125;$"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>formula_tex<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>会得到下面的图片：</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_InlineFormula.png" alt="InlineFormula.png" /><figcaption aria-hidden="true">InlineFormula.png</figcaption>
</figure>
<p>如果想让行内公式以正常大小展示，可以使用<code>\displaystyle</code>，就像下面这样：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">InlineFormula</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        formula_tex <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">r"Fraction: $\displaystyle\frac&#123;d&#125;&#123;dx&#125;$"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>formula_tex<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>效果如下，可以看出公式大了一点：</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_InlineFormula2.png" alt="InlineFormula2.png" /><figcaption aria-hidden="true">InlineFormula2.png</figcaption>
</figure>
<p>之后我们会学习“打碎”公式和文字，这会非常有用。“打碎”是什么意思呢？举一个简单的例子：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">FragmentFormula</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        formula_tex <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">'+'</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">)</span>
        formula_tex<span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>formula_tex<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>其中第3行的效果和<code>formula_tex=TexMobject("a+b")</code>是完全一样的。</p>
<p>到这里我们就能解释为什么<code>\over</code>比<code>\frac</code>要好了，因为<code>\frac</code>没有办法被打碎，也就是说类似<code>TexMobject('\\frac&#123;', 'a&#125;&#123;', 'b&#125;')</code>的写法是会报错的。对于这种情况，可以用<code>TexMobject('a', '\\over', 'b')</code>代替。</p>
<p>如果想写多行的公式，那么可以使用三个引号<code>"""</code>或<code>'''</code>，这没什么特别的，就是Python中多行字符串的表示。比如：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MultiLineFormula</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        formula_tex <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token triple-quoted-string string">r'''
            \begin&#123;bmatrix&#125;
            a &amp; a \\
            a &amp; a \\
            a &amp; a
            \end&#123;bmatrix&#125;
        '''</span> <span class="token punctuation">)</span>
        formula_tex<span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>formula_tex<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>渲染出来的结果是这样的：</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MultiLineFormula.png" alt="MultiLineFormula.png" /><figcaption aria-hidden="true">MultiLineFormula.png</figcaption>
</figure>
<p>仔细看括号的正中间有一条小缝，这比较不美观，能不能把这条缝去掉呢？可以。</p>
<p>打开<code>manimlib/mobject/svg/tex_mobject.py</code>，找到下面的代码片段：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">SingleStringTexMobject</span><span class="token punctuation">(</span>SVGMobject<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"template_tex_file_body"</span><span class="token punctuation">:</span> TEMPLATE_TEX_FILE_BODY<span class="token punctuation">,</span>
        <span class="token string">"stroke_width"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"fill_opacity"</span><span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>
        <span class="token string">"background_stroke_width"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">"background_stroke_color"</span><span class="token punctuation">:</span> BLACK<span class="token punctuation">,</span>
        <span class="token string">"should_center"</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token string">"height"</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span>
        <span class="token string">"organize_left_to_right"</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
        <span class="token string">"alignment"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>注意<code>background_stroke_width</code>这一行，这个参数是用来给对象添加阴影的。我们把后面的1改成0，然后保存。</p>
<p>重新渲染一下，小缝就没了。</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MultiLineFormula2.png" alt="MultiLineFormula2.png" /><figcaption aria-hidden="true">MultiLineFormula2.png</figcaption>
</figure>
<h2 id="数组">数组</h2>
<p>我们来看看数组有什么用。</p>
<p>新建一个名为<code>arrays.py</code>的文件。粘贴下列代码，先不用管是什么意思。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> manimlib<span class="token punctuation">.</span>imports <span class="token keyword">import</span> <span class="token operator">*</span>

COLOR_P <span class="token operator">=</span> <span class="token string">"#3EFC24"</span>

<span class="token keyword">class</span> <span class="token class-name">TextColor</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">,</span> <span class="token string">"B"</span><span class="token punctuation">,</span> <span class="token string">"C"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token string">"E"</span><span class="token punctuation">,</span> <span class="token string">"F"</span><span class="token punctuation">)</span>
        <span class="token comment">#                   0    1    2    3    4    5</span>
        
        text<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>RED<span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>BLUE<span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>GREEN<span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>ORANGE<span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span><span class="token string">"#DC28E2"</span><span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>COLOR_P<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后渲染一下：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">manim arrays<span class="token punctuation">.</span>py TextColor <span class="token operator">-</span>ps<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>会得到下面的图片：</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_TextColor.png" alt="TextColor.png" /><figcaption aria-hidden="true">TextColor.png</figcaption>
</figure>
<p>我们看到ABCDEF六个字母，不过每一个字母都用了不同的颜色。</p>
<p>要改变一个对象的颜色，可以使用<code>.set_color()</code>方法。参数填的是对应的颜色。在<code>manimlib\constants.py</code>这个文件中可以找到已经定义好的一些颜色。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Colors</span>
COLOR_MAP <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token string">"DARK_BLUE"</span><span class="token punctuation">:</span> <span class="token string">"#236B8E"</span><span class="token punctuation">,</span>
    <span class="token string">"DARK_BROWN"</span><span class="token punctuation">:</span> <span class="token string">"#8B4513"</span><span class="token punctuation">,</span>
    <span class="token string">"LIGHT_BROWN"</span><span class="token punctuation">:</span> <span class="token string">"#CD853F"</span><span class="token punctuation">,</span>
    <span class="token string">"BLUE_E"</span><span class="token punctuation">:</span> <span class="token string">"#1C758A"</span><span class="token punctuation">,</span>
    <span class="token string">"BLUE_D"</span><span class="token punctuation">:</span> <span class="token string">"#29ABCA"</span><span class="token punctuation">,</span>
    <span class="token string">"BLUE_C"</span><span class="token punctuation">:</span> <span class="token string">"#58C4DD"</span><span class="token punctuation">,</span>
    <span class="token string">"BLUE_B"</span><span class="token punctuation">:</span> <span class="token string">"#9CDCEB"</span><span class="token punctuation">,</span>
    <span class="token string">"BLUE_A"</span><span class="token punctuation">:</span> <span class="token string">"#C7E9F1"</span><span class="token punctuation">,</span>
    <span class="token string">"TEAL_E"</span><span class="token punctuation">:</span> <span class="token string">"#49A88F"</span><span class="token punctuation">,</span>
    <span class="token string">"TEAL_D"</span><span class="token punctuation">:</span> <span class="token string">"#55C1A7"</span><span class="token punctuation">,</span>
    <span class="token string">"TEAL_C"</span><span class="token punctuation">:</span> <span class="token string">"#5CD0B3"</span><span class="token punctuation">,</span>
    <span class="token string">"TEAL_B"</span><span class="token punctuation">:</span> <span class="token string">"#76DDC0"</span><span class="token punctuation">,</span>
    <span class="token string">"TEAL_A"</span><span class="token punctuation">:</span> <span class="token string">"#ACEAD7"</span><span class="token punctuation">,</span>
    <span class="token string">"GREEN_E"</span><span class="token punctuation">:</span> <span class="token string">"#699C52"</span><span class="token punctuation">,</span>
    <span class="token string">"GREEN_D"</span><span class="token punctuation">:</span> <span class="token string">"#77B05D"</span><span class="token punctuation">,</span>
    <span class="token string">"GREEN_C"</span><span class="token punctuation">:</span> <span class="token string">"#83C167"</span><span class="token punctuation">,</span>
    <span class="token string">"GREEN_B"</span><span class="token punctuation">:</span> <span class="token string">"#A6CF8C"</span><span class="token punctuation">,</span>
    <span class="token string">"GREEN_A"</span><span class="token punctuation">:</span> <span class="token string">"#C9E2AE"</span><span class="token punctuation">,</span>
    <span class="token string">"YELLOW_E"</span><span class="token punctuation">:</span> <span class="token string">"#E8C11C"</span><span class="token punctuation">,</span>
    <span class="token string">"YELLOW_D"</span><span class="token punctuation">:</span> <span class="token string">"#F4D345"</span><span class="token punctuation">,</span>
    <span class="token string">"YELLOW_C"</span><span class="token punctuation">:</span> <span class="token string">"#FFFF00"</span><span class="token punctuation">,</span>
    <span class="token string">"YELLOW_B"</span><span class="token punctuation">:</span> <span class="token string">"#FFEA94"</span><span class="token punctuation">,</span>
    <span class="token string">"YELLOW_A"</span><span class="token punctuation">:</span> <span class="token string">"#FFF1B6"</span><span class="token punctuation">,</span>
    <span class="token string">"GOLD_E"</span><span class="token punctuation">:</span> <span class="token string">"#C78D46"</span><span class="token punctuation">,</span>
    <span class="token string">"GOLD_D"</span><span class="token punctuation">:</span> <span class="token string">"#E1A158"</span><span class="token punctuation">,</span>
    <span class="token string">"GOLD_C"</span><span class="token punctuation">:</span> <span class="token string">"#F0AC5F"</span><span class="token punctuation">,</span>
    <span class="token string">"GOLD_B"</span><span class="token punctuation">:</span> <span class="token string">"#F9B775"</span><span class="token punctuation">,</span>
    <span class="token string">"GOLD_A"</span><span class="token punctuation">:</span> <span class="token string">"#F7C797"</span><span class="token punctuation">,</span>
    <span class="token string">"RED_E"</span><span class="token punctuation">:</span> <span class="token string">"#CF5044"</span><span class="token punctuation">,</span>
    <span class="token string">"RED_D"</span><span class="token punctuation">:</span> <span class="token string">"#E65A4C"</span><span class="token punctuation">,</span>
    <span class="token string">"RED_C"</span><span class="token punctuation">:</span> <span class="token string">"#FC6255"</span><span class="token punctuation">,</span>
    <span class="token string">"RED_B"</span><span class="token punctuation">:</span> <span class="token string">"#FF8080"</span><span class="token punctuation">,</span>
    <span class="token string">"RED_A"</span><span class="token punctuation">:</span> <span class="token string">"#F7A1A3"</span><span class="token punctuation">,</span>
    <span class="token string">"MAROON_E"</span><span class="token punctuation">:</span> <span class="token string">"#94424F"</span><span class="token punctuation">,</span>
    <span class="token string">"MAROON_D"</span><span class="token punctuation">:</span> <span class="token string">"#A24D61"</span><span class="token punctuation">,</span>
    <span class="token string">"MAROON_C"</span><span class="token punctuation">:</span> <span class="token string">"#C55F73"</span><span class="token punctuation">,</span>
    <span class="token string">"MAROON_B"</span><span class="token punctuation">:</span> <span class="token string">"#EC92AB"</span><span class="token punctuation">,</span>
    <span class="token string">"MAROON_A"</span><span class="token punctuation">:</span> <span class="token string">"#ECABC1"</span><span class="token punctuation">,</span>
    <span class="token string">"PURPLE_E"</span><span class="token punctuation">:</span> <span class="token string">"#644172"</span><span class="token punctuation">,</span>
    <span class="token string">"PURPLE_D"</span><span class="token punctuation">:</span> <span class="token string">"#715582"</span><span class="token punctuation">,</span>
    <span class="token string">"PURPLE_C"</span><span class="token punctuation">:</span> <span class="token string">"#9A72AC"</span><span class="token punctuation">,</span>
    <span class="token string">"PURPLE_B"</span><span class="token punctuation">:</span> <span class="token string">"#B189C6"</span><span class="token punctuation">,</span>
    <span class="token string">"PURPLE_A"</span><span class="token punctuation">:</span> <span class="token string">"#CAA3E8"</span><span class="token punctuation">,</span>
    <span class="token string">"WHITE"</span><span class="token punctuation">:</span> <span class="token string">"#FFFFFF"</span><span class="token punctuation">,</span>
    <span class="token string">"BLACK"</span><span class="token punctuation">:</span> <span class="token string">"#000000"</span><span class="token punctuation">,</span>
    <span class="token string">"LIGHT_GRAY"</span><span class="token punctuation">:</span> <span class="token string">"#BBBBBB"</span><span class="token punctuation">,</span>
    <span class="token string">"LIGHT_GREY"</span><span class="token punctuation">:</span> <span class="token string">"#BBBBBB"</span><span class="token punctuation">,</span>
    <span class="token string">"GRAY"</span><span class="token punctuation">:</span> <span class="token string">"#888888"</span><span class="token punctuation">,</span>
    <span class="token string">"GREY"</span><span class="token punctuation">:</span> <span class="token string">"#888888"</span><span class="token punctuation">,</span>
    <span class="token string">"DARK_GREY"</span><span class="token punctuation">:</span> <span class="token string">"#444444"</span><span class="token punctuation">,</span>
    <span class="token string">"DARK_GRAY"</span><span class="token punctuation">:</span> <span class="token string">"#444444"</span><span class="token punctuation">,</span>
    <span class="token string">"DARKER_GREY"</span><span class="token punctuation">:</span> <span class="token string">"#222222"</span><span class="token punctuation">,</span>
    <span class="token string">"DARKER_GRAY"</span><span class="token punctuation">:</span> <span class="token string">"#222222"</span><span class="token punctuation">,</span>
    <span class="token string">"GREY_BROWN"</span><span class="token punctuation">:</span> <span class="token string">"#736357"</span><span class="token punctuation">,</span>
    <span class="token string">"PINK"</span><span class="token punctuation">:</span> <span class="token string">"#D147BD"</span><span class="token punctuation">,</span>
    <span class="token string">"GREEN_SCREEN"</span><span class="token punctuation">:</span> <span class="token string">"#00FF00"</span><span class="token punctuation">,</span>
    <span class="token string">"ORANGE"</span><span class="token punctuation">:</span> <span class="token string">"#FF862F"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这个文件中你也可以找到之前使用过的一些常数，比如<code>UP</code>、<code>PI</code>之类的。在修改中文支持的时候也是修改这个文件里的<code>TEX_USE_CTEX</code>常数。</p>
<p>如果想，是可以按照格式在<code>COLOR_MAP</code>里添加新的颜色。</p>
<p>回到刚才的代码，可以看到在第7行，六个字母被隔开了，而设置颜色的时候，text成了一个列表，也就是我们说的数组。当我们给一个变量赋值成一段文字的时候，我们实际上是将文字存在了一段内存里，而使用变量名来访问这段内存。如果我们把文字字符串拆分成一个列表的时候（就像代码第7行一样），这段文字就被按顺序存在了若干段内存里，这几段内存都使用相同的变量名来访问，不过每段内存有自己的编号，要访问其中一段内存，就采用<code>变量名[编号]</code>的形式来访问。这样我们就可以对每一个部分单独改变对应的属性（比如颜色）了。</p>
<p>除了改变文字的颜色，我们还可以改变公式的颜色，比如：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">FormulaColor1</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token string">'='</span><span class="token punctuation">,</span> <span class="token string">'&#123;a'</span><span class="token punctuation">,</span> <span class="token string">'\\over'</span><span class="token punctuation">,</span> <span class="token string">'b&#125;'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token comment">#                  0    1    2    3         4</span>

        text<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>RED<span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>BLUE<span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>GREEN<span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>ORANGE<span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span><span class="token string">"#DC28E2"</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>自己渲染一下，就能发现公式的每一部分颜色都不一样了。</p>
<p>这段程序也说明了为什么<code>\frac</code>不如<code>\over</code>方便。</p>
<p>再来看下面一段代码：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">FormulaColor2</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span>
            <span class="token string">"\\sqrt&#123;"</span><span class="token punctuation">,</span>
            <span class="token string">"\\int_&#123;"</span><span class="token punctuation">,</span>
            <span class="token string">"a&#125;^"</span><span class="token punctuation">,</span>
            <span class="token string">"&#123;b&#125;"</span><span class="token punctuation">,</span>
            <span class="token string">"\\left("</span><span class="token punctuation">,</span>
            <span class="token string">"\\frac&#123;x&#125;&#123;y&#125;"</span><span class="token punctuation">,</span>
            <span class="token string">"\\right)"</span><span class="token punctuation">,</span>
            <span class="token string">"dx&#125;"</span><span class="token punctuation">)</span>

        text<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>RED<span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>BLUE<span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>GREEN<span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>YELLOW<span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>PINK<span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>ORANGE<span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>PURPLE<span class="token punctuation">)</span>
        text<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>MAROON<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>看上去好像没什么问题，字符串列表有8个，数列也有8个，不过渲染完的结果却是这样的：</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_FormulaColor2.png" alt="FormulaColor2.png" /><figcaption aria-hidden="true">FormulaColor2.png</figcaption>
</figure>
<p>我们可以看到渲染出了3个问题：</p>
<ol type="1">
<li>根号的颜色有两种，而剩下元素的颜色没有对应上。</li>
<li>最后的字母<span class="math inline">\(x\)</span>不见了。</li>
</ol>
<p>第1个问题是因为<code>\sqrt</code>会占用2个编号，而不是1个，根号左边的部分编号在前，根号上面的一横编号在后。也就是说<code>text[0]</code>实际上是根号的左边，而<code>text[1]</code>实际上是根号的上边。</p>
<p>你还能发现<span class="math inline">\(a\)</span>和<span class="math inline">\(b\)</span>在定义公式的时候是<span class="math inline">\(a\)</span>在前，<span class="math inline">\(b\)</span>在后，那么按道理<span class="math inline">\(a\)</span>应该是<code>text[3]</code>，<span class="math inline">\(b\)</span>应该是<code>text[4]</code>，也就是说<span class="math inline">\(a\)</span>应该是<code>text[3]</code>的黄色，而<span class="math inline">\(b\)</span>应该是<code>text[4]</code>的粉色。但是图片中正好相反。这是因为Manim实际上不完全按照你分割的顺序来编号，对于有上标和下标的地方来说，上标的编号在前，下标的编号在后。所以呢，为了不产生困惑，至少在用Manim的时候，还是尽量先写上标，再写下标。</p>
<p>这里还出现了<code>\frac</code>的另一个问题，注意看左括号和分数的上半部分的颜色变成一样的了，可这不是本意。要解决这个问题，还需要使用<code>\over</code>。</p>
<p>第2个问题暂时不知道是怎么回事，不过解决方法是在<span class="math inline">\(x\)</span>的后面加一个<code>.</code>，也就是把最后一项改成<code>"dx.&#125;"</code>。</p>
<p>所以可以看出，要搞清楚究竟Manim是怎么分块的还是很麻烦的。不过幸运的是，这里有一份神奇代码：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">CheckFormulaByTXT</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"camera_config"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token string">"background_color"</span><span class="token punctuation">:</span> BLACK<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token string">"svg_type"</span><span class="token punctuation">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span>
        <span class="token string">"text"</span><span class="token punctuation">:</span> TexMobject<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">"file"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string">"svg_scale"</span><span class="token punctuation">:</span> <span class="token number">0.9</span><span class="token punctuation">,</span>
        <span class="token string">"angle"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"flip_svg"</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
        <span class="token string">"fill_opacity"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">"remove"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"stroke_color"</span><span class="token punctuation">:</span> WHITE<span class="token punctuation">,</span>
        <span class="token string">"fill_color"</span><span class="token punctuation">:</span> WHITE<span class="token punctuation">,</span>
        <span class="token string">"stroke_width"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token string">"numbers_scale"</span><span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
        <span class="token string">"show_numbers"</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token string">"animation"</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
        <span class="token string">"direction_numbers"</span><span class="token punctuation">:</span> UP<span class="token punctuation">,</span>
        <span class="token string">"color_numbers"</span><span class="token punctuation">:</span> RED<span class="token punctuation">,</span>
        <span class="token string">"space_between_numbers"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"show_elements"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"color_element"</span><span class="token punctuation">:</span> BLUE<span class="token punctuation">,</span>
        <span class="token comment"># "set_size": "width",</span>
        <span class="token string">"remove_stroke"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"show_stroke"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"warning_color"</span><span class="token punctuation">:</span> RED<span class="token punctuation">,</span>
        <span class="token string">"stroke_"</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>imagen <span class="token operator">=</span> self<span class="token punctuation">.</span>text
        <span class="token comment"># if self.set_size == "width":</span>
        <span class="token comment">#     self.imagen.set_width(FRAME_WIDTH)</span>
        <span class="token comment"># else:</span>
        <span class="token comment">#     self.imagen.set_height(FRAME_HEIGHT)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>FRAME_HEIGHT <span class="token operator">&lt;</span> FRAME_WIDTH<span class="token operator">*</span>self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>get_height<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>set_height<span class="token punctuation">(</span>FRAME_HEIGHT<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>set_width<span class="token punctuation">(</span>FRAME_WIDTH<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>scale<span class="token punctuation">(</span>self<span class="token punctuation">.</span>svg_scale<span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>flip_svg <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>show_numbers <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>print_formula<span class="token punctuation">(</span>
                self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                self<span class="token punctuation">.</span>numbers_scale<span class="token punctuation">,</span>
                self<span class="token punctuation">.</span>direction_numbers<span class="token punctuation">,</span>
                self<span class="token punctuation">.</span>remove<span class="token punctuation">,</span>
                self<span class="token punctuation">.</span>space_between_numbers<span class="token punctuation">,</span>
                self<span class="token punctuation">.</span>color_numbers
            <span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>return_elements<span class="token punctuation">(</span>self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>show_elements<span class="token punctuation">)</span>
        <span class="token keyword">for</span> st <span class="token keyword">in</span> self<span class="token punctuation">.</span>remove_stroke<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>imagen<span class="token punctuation">[</span>st<span class="token punctuation">]</span><span class="token punctuation">.</span>set_stroke<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> st <span class="token keyword">in</span> self<span class="token punctuation">.</span>show_stroke<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>imagen<span class="token punctuation">[</span>st<span class="token punctuation">]</span><span class="token punctuation">.</span>set_stroke<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>stroke_<span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>animation <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>DrawBorderThenFill<span class="token punctuation">(</span>self<span class="token punctuation">.</span>imagen<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            c <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>imagen<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                permission_print <span class="token operator">=</span> <span class="token boolean">True</span>
                <span class="token keyword">for</span> w <span class="token keyword">in</span> self<span class="token punctuation">.</span>remove<span class="token punctuation">:</span>
                    <span class="token keyword">if</span> j <span class="token operator">==</span> w<span class="token punctuation">:</span>
                        permission_print <span class="token operator">=</span> <span class="token boolean">False</span>
                <span class="token keyword">if</span> permission_print<span class="token punctuation">:</span>
                    self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>self<span class="token punctuation">.</span>imagen<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
            c <span class="token operator">+=</span> <span class="token number">1</span>
        self<span class="token punctuation">.</span>personalize_image<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">personalize_image</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">print_formula</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">,</span> inverse_scale<span class="token punctuation">,</span> direction<span class="token punctuation">,</span> exception<span class="token punctuation">,</span> buff<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text<span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>self<span class="token punctuation">.</span>warning_color<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
        c <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            permission_print <span class="token operator">=</span> <span class="token boolean">True</span>
            <span class="token keyword">for</span> w <span class="token keyword">in</span> exception<span class="token punctuation">:</span>
                <span class="token keyword">if</span> j <span class="token operator">==</span> w<span class="token punctuation">:</span>
                    permission_print <span class="token operator">=</span> <span class="token boolean">False</span>
            <span class="token keyword">if</span> permission_print<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>text<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>self<span class="token punctuation">.</span>stroke_color<span class="token punctuation">)</span><span class="token punctuation">)</span>
        c <span class="token operator">+=</span> <span class="token number">1</span>

        c <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            permission_print <span class="token operator">=</span> <span class="token boolean">True</span>
            element <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"%d"</span> <span class="token operator">%</span> c<span class="token punctuation">,</span> color<span class="token operator">=</span>color<span class="token punctuation">)</span>
            element<span class="token punctuation">.</span>scale<span class="token punctuation">(</span>inverse_scale<span class="token punctuation">)</span>
            element<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>text<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> direction<span class="token punctuation">,</span> buff<span class="token operator">=</span>buff<span class="token punctuation">)</span>
            <span class="token keyword">for</span> w <span class="token keyword">in</span> exception<span class="token punctuation">:</span>
                <span class="token keyword">if</span> j <span class="token operator">==</span> w<span class="token punctuation">:</span>
                    permission_print <span class="token operator">=</span> <span class="token boolean">False</span>
            <span class="token keyword">if</span> permission_print<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>add_foreground_mobjects<span class="token punctuation">(</span>element<span class="token punctuation">)</span>
            c <span class="token operator">+=</span> <span class="token number">1</span>

    <span class="token keyword">def</span> <span class="token function">return_elements</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> formula<span class="token punctuation">,</span> adds<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> adds<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>add_foreground_mobjects<span class="token punctuation">(</span>formula<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>self<span class="token punctuation">.</span>color_element<span class="token punctuation">)</span><span class="token punctuation">,</span>
                TexMobject<span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token operator">%</span>i<span class="token punctuation">,</span> color<span class="token operator">=</span>self<span class="token punctuation">.</span>color_element<span class="token punctuation">,</span> background_stroke_width<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scale<span class="token punctuation">(</span>self<span class="token punctuation">.</span>numbers_scale<span class="token punctuation">)</span><span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>formula<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>direction_numbers<span class="token punctuation">,</span> buff<span class="token operator">=</span>self<span class="token punctuation">.</span>space_between_numbers<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>把神奇代码粘贴到你的文件中，然后这样来使用，在文件中新建一个类：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">CheckFormula1</span><span class="token punctuation">(</span>CheckFormulaByTXT<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"text"</span><span class="token punctuation">:</span> TexMobject<span class="token punctuation">(</span>
            <span class="token string">"\\sqrt&#123;"</span><span class="token punctuation">,</span>
            <span class="token string">"\\int_&#123;"</span><span class="token punctuation">,</span>
            <span class="token string">"a&#125;^"</span><span class="token punctuation">,</span>
            <span class="token string">"&#123;b&#125;"</span><span class="token punctuation">,</span>
            <span class="token string">"&#123;\\left("</span><span class="token punctuation">,</span>
            <span class="token string">"&#123;x"</span><span class="token punctuation">,</span>
            <span class="token string">"\\over"</span><span class="token punctuation">,</span>
            <span class="token string">"y&#125;"</span><span class="token punctuation">,</span>
            <span class="token string">"\\right)&#125;"</span><span class="token punctuation">,</span>
            <span class="token string">"dx.&#125;"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>"text"后面填入你弄不清楚分块的对象，比如刚才的那个。</p>
<p>最后将这个类渲染成图片，就像下面这样：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim arrays.py CheckFormula1 -ps<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>你就能得到下面的图片：</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_CheckFormula1.png" alt="CheckFormula1.png" /><figcaption aria-hidden="true">CheckFormula1.png</figcaption>
</figure>
<p>图片中用红色的数字标明了每一部分的编号是多少。如果你觉得还是不确定，那么你还可以通过下面的操作来高亮这个公式的一部分！</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">CheckFormula1</span><span class="token punctuation">(</span>CheckFormulaByTXT<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"text"</span><span class="token punctuation">:</span> TexMobject<span class="token punctuation">(</span>
            <span class="token string">"\\sqrt&#123;"</span><span class="token punctuation">,</span>
            <span class="token string">"\\int_&#123;"</span><span class="token punctuation">,</span>
            <span class="token string">"a&#125;^"</span><span class="token punctuation">,</span>
            <span class="token string">"&#123;b&#125;"</span><span class="token punctuation">,</span>
            <span class="token string">"&#123;\\left("</span><span class="token punctuation">,</span>
            <span class="token string">"&#123;x"</span><span class="token punctuation">,</span>
            <span class="token string">"\\over"</span><span class="token punctuation">,</span>
            <span class="token string">"y&#125;"</span><span class="token punctuation">,</span>
            <span class="token string">"\\right)&#125;"</span><span class="token punctuation">,</span>
            <span class="token string">"dx.&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">"show_elements"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在"text"这一项的后面加一个逗号，然后加入名为"show_elements"的一项，这一项的值是一个列表，列表里你可以填刚才图片中出现的数字，比如你对公式第0块和第9块还不是很确定，那么就在列表中填0和9。</p>
<p>重新渲染一下，你就能得到下面的图：</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_CheckFormula2.png" alt="CheckFormula2.png" /><figcaption aria-hidden="true">CheckFormula2.png</figcaption>
</figure>
<p>非常炫酷的是，这些地方都被高亮成蓝色了，分块一目了然。</p>
<p>如果你发现有一些地方连在一起了，那么你可以多分几块，比如上面的第9块。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">TexMobject<span class="token punctuation">(</span>
    <span class="token string">"\\sqrt&#123;"</span><span class="token punctuation">,</span>
    <span class="token string">"\\int_&#123;"</span><span class="token punctuation">,</span>
    <span class="token string">"a&#125;^"</span><span class="token punctuation">,</span>
    <span class="token string">"&#123;b&#125;"</span><span class="token punctuation">,</span>
    <span class="token string">"&#123;\\left("</span><span class="token punctuation">,</span>
    <span class="token string">"&#123;x"</span><span class="token punctuation">,</span>
    <span class="token string">"\\over"</span><span class="token punctuation">,</span>
    <span class="token string">"y&#125;"</span><span class="token punctuation">,</span>
    <span class="token string">"\\right)&#125;"</span><span class="token punctuation">,</span>
    <span class="token string">"d"</span><span class="token punctuation">,</span>
    <span class="token string">"x.&#125;"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>现在我们再来学习一个方法<code>.set_color_by_tex(STR, COLOR)</code>，这个方法可以把对象中的指定字符串给设置成特定的颜色。比如：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ColorByCaracter</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		text <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"&#123;d"</span><span class="token punctuation">,</span><span class="token string">"\\over"</span><span class="token punctuation">,</span><span class="token string">"d"</span><span class="token punctuation">,</span><span class="token string">"x"</span><span class="token punctuation">,</span><span class="token string">"&#125;"</span><span class="token punctuation">,</span><span class="token string">"\\int_"</span><span class="token punctuation">,</span><span class="token string">"&#123;a&#125;^"</span><span class="token punctuation">,</span><span class="token string">"&#123;"</span><span class="token punctuation">,</span><span class="token string">"x"</span><span class="token punctuation">,</span><span class="token string">"&#125;"</span><span class="token punctuation">,</span><span class="token string">"f("</span><span class="token punctuation">,</span><span class="token string">"t"</span><span class="token punctuation">,</span><span class="token string">")d"</span><span class="token punctuation">,</span><span class="token string">"t"</span><span class="token punctuation">,</span><span class="token string">"="</span><span class="token punctuation">,</span><span class="token string">"f("</span><span class="token punctuation">,</span><span class="token string">"x"</span><span class="token punctuation">,</span><span class="token string">")"</span><span class="token punctuation">)</span>
		text<span class="token punctuation">.</span>set_color_by_tex<span class="token punctuation">(</span><span class="token string">"x"</span><span class="token punctuation">,</span>RED<span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>渲染一下：</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_ColorByCharacter.png" alt="ColorByCharacter.png" /><figcaption aria-hidden="true">ColorByCharacter.png</figcaption>
</figure>
<p>咦，又出现了很奇怪的问题，公式没显示全，而且涂色的字符串也不对。问题还是出在上下标的顺序上，一定记住，先上标，后下标。</p>
<p>修改一下：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ColorByCharacterFixed</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		text <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"&#123;d"</span><span class="token punctuation">,</span> <span class="token string">"\\over"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token punctuation">,</span> <span class="token string">"&#125;"</span><span class="token punctuation">,</span>
            <span class="token string">"\\int^"</span><span class="token punctuation">,</span> <span class="token string">"&#123;x&#125;_"</span><span class="token punctuation">,</span> <span class="token string">"&#123;"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"&#125;"</span><span class="token punctuation">,</span> <span class="token string">"f("</span><span class="token punctuation">,</span> <span class="token string">"t"</span><span class="token punctuation">,</span> <span class="token string">")d"</span><span class="token punctuation">,</span> <span class="token string">"t"</span><span class="token punctuation">,</span>
                <span class="token string">"="</span><span class="token punctuation">,</span> <span class="token string">"f("</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token punctuation">,</span> <span class="token string">")..."</span><span class="token punctuation">)</span>
		text<span class="token punctuation">.</span>set_color_by_tex<span class="token punctuation">(</span><span class="token string">"x"</span><span class="token punctuation">,</span>RED<span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>显示不全的问题还是可以通过在后面加若干个点的方式解决。</p>
<p>现在效果正确了。</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_ColorByCharacterFixed.png" alt="ColorByCharacterFixed.png" /><figcaption aria-hidden="true">ColorByCharacterFixed.png</figcaption>
</figure>
<p>不过鉴于TeX公式会出现各种各样的问题，因此<code>.set_color_by_tex()</code>最好用在文本上。</p>
<p>熟练运用for循环可以简化赋值的过程。下面列出了5种for循环的场景：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ListFor</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#no usar siempre frac</span>
        text <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"[0]"</span><span class="token punctuation">,</span><span class="token string">"[1]"</span><span class="token punctuation">,</span><span class="token string">"[2]"</span><span class="token punctuation">,</span><span class="token string">"[3]"</span><span class="token punctuation">,</span><span class="token string">"[4]"</span><span class="token punctuation">,</span><span class="token string">"[5]"</span><span class="token punctuation">,</span><span class="token string">"[6]"</span><span class="token punctuation">,</span><span class="token string">"[7]"</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        	text<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>RED<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">ForRange1</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#no usar siempre frac</span>
        text <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"[0]"</span><span class="token punctuation">,</span><span class="token string">"[1]"</span><span class="token punctuation">,</span><span class="token string">"[2]"</span><span class="token punctuation">,</span><span class="token string">"[3]"</span><span class="token punctuation">,</span><span class="token string">"[4]"</span><span class="token punctuation">,</span><span class="token string">"[5]"</span><span class="token punctuation">,</span><span class="token string">"[6]"</span><span class="token punctuation">,</span><span class="token string">"[7]"</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        	text<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>RED<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">ForRange2</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#no usar siempre frac</span>
        text <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"[0]"</span><span class="token punctuation">,</span><span class="token string">"[1]"</span><span class="token punctuation">,</span><span class="token string">"[2]"</span><span class="token punctuation">,</span><span class="token string">"[3]"</span><span class="token punctuation">,</span><span class="token string">"[4]"</span><span class="token punctuation">,</span><span class="token string">"[5]"</span><span class="token punctuation">,</span><span class="token string">"[6]"</span><span class="token punctuation">,</span><span class="token string">"[7]"</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        	text<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>RED<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">ForTwoVariables</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#no usar siempre frac</span>
        text <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"[0]"</span><span class="token punctuation">,</span><span class="token string">"[1]"</span><span class="token punctuation">,</span><span class="token string">"[2]"</span><span class="token punctuation">,</span><span class="token string">"[3]"</span><span class="token punctuation">,</span><span class="token string">"[4]"</span><span class="token punctuation">,</span><span class="token string">"[5]"</span><span class="token punctuation">,</span><span class="token string">"[6]"</span><span class="token punctuation">,</span><span class="token string">"[7]"</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i<span class="token punctuation">,</span>color <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>RED<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span>PINK<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        	text<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>color<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">ForTwoVariables2</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#no usar siempre frac</span>
        text <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"[0]"</span><span class="token punctuation">,</span><span class="token string">"[1]"</span><span class="token punctuation">,</span><span class="token string">"[2]"</span><span class="token punctuation">,</span><span class="token string">"[3]"</span><span class="token punctuation">,</span><span class="token string">"[4]"</span><span class="token punctuation">,</span><span class="token string">"[5]"</span><span class="token punctuation">,</span><span class="token string">"[6]"</span><span class="token punctuation">,</span><span class="token string">"[7]"</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i<span class="token punctuation">,</span>color <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>RED<span class="token punctuation">,</span> PINK<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        	text<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>color<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>最后，我们来介绍一个类<code>Cross</code>，这个类可以给指定的字符串打上×。观察下面的代码并渲染它，学习这个类是如何使用的。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">CrossText1</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"\\sum^&#123;\\infty&#125;_&#123;i=1&#125;i"</span><span class="token punctuation">,</span> <span class="token string">"="</span><span class="token punctuation">,</span> <span class="token string">"-\\frac&#123;1&#125;&#123;2&#125;"</span><span class="token punctuation">)</span>
        cross <span class="token operator">=</span> Cross<span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        cross<span class="token punctuation">.</span>set_stroke<span class="token punctuation">(</span>RED<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ShowCreation<span class="token punctuation">(</span>cross<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="变换">变换</h2>
<p>在学习变换之前，我们先来学习一下如何使用自己之前定义的类，但是不用把源代码粘贴到每个要用到它的新文件中。比如说上一节中的那份给数组编号的神奇代码。我们难道每次要使用的时候都需要把那一大段源代码粘贴过来吗？答案是可以不用。</p>
<p>怎么做到这件事呢？我们首先把神奇代码保存到一个新的文件<code>my_class.py</code>中。记住一定不要忘记第一行。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> manimlib<span class="token punctuation">.</span>imports <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">class</span> <span class="token class-name">CheckFormulaByTXT</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"camera_config"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token string">"background_color"</span><span class="token punctuation">:</span> BLACK<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token string">"svg_type"</span><span class="token punctuation">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span>
        <span class="token string">"text"</span><span class="token punctuation">:</span> TexMobject<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">"file"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string">"svg_scale"</span><span class="token punctuation">:</span> <span class="token number">0.9</span><span class="token punctuation">,</span>
        <span class="token string">"angle"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"flip_svg"</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
        <span class="token string">"fill_opacity"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">"remove"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"stroke_color"</span><span class="token punctuation">:</span> WHITE<span class="token punctuation">,</span>
        <span class="token string">"fill_color"</span><span class="token punctuation">:</span> WHITE<span class="token punctuation">,</span>
        <span class="token string">"stroke_width"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token string">"numbers_scale"</span><span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
        <span class="token string">"show_numbers"</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token string">"animation"</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
        <span class="token string">"direction_numbers"</span><span class="token punctuation">:</span> UP<span class="token punctuation">,</span>
        <span class="token string">"color_numbers"</span><span class="token punctuation">:</span> RED<span class="token punctuation">,</span>
        <span class="token string">"space_between_numbers"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"show_elements"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"color_element"</span><span class="token punctuation">:</span> BLUE<span class="token punctuation">,</span>
        <span class="token comment"># "set_size": "width",</span>
        <span class="token string">"remove_stroke"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"show_stroke"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"warning_color"</span><span class="token punctuation">:</span> RED<span class="token punctuation">,</span>
        <span class="token string">"stroke_"</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>imagen <span class="token operator">=</span> self<span class="token punctuation">.</span>text
        <span class="token comment"># if self.set_size == "width":</span>
        <span class="token comment">#     self.imagen.set_width(FRAME_WIDTH)</span>
        <span class="token comment"># else:</span>
        <span class="token comment">#     self.imagen.set_height(FRAME_HEIGHT)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>FRAME_HEIGHT <span class="token operator">&lt;</span> FRAME_WIDTH<span class="token operator">*</span>self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>get_height<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>set_height<span class="token punctuation">(</span>FRAME_HEIGHT<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>set_width<span class="token punctuation">(</span>FRAME_WIDTH<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>scale<span class="token punctuation">(</span>self<span class="token punctuation">.</span>svg_scale<span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>flip_svg <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>show_numbers <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>print_formula<span class="token punctuation">(</span>
                self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                self<span class="token punctuation">.</span>numbers_scale<span class="token punctuation">,</span>
                self<span class="token punctuation">.</span>direction_numbers<span class="token punctuation">,</span>
                self<span class="token punctuation">.</span>remove<span class="token punctuation">,</span>
                self<span class="token punctuation">.</span>space_between_numbers<span class="token punctuation">,</span>
                self<span class="token punctuation">.</span>color_numbers
            <span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>return_elements<span class="token punctuation">(</span>self<span class="token punctuation">.</span>imagen<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>show_elements<span class="token punctuation">)</span>
        <span class="token keyword">for</span> st <span class="token keyword">in</span> self<span class="token punctuation">.</span>remove_stroke<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>imagen<span class="token punctuation">[</span>st<span class="token punctuation">]</span><span class="token punctuation">.</span>set_stroke<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> st <span class="token keyword">in</span> self<span class="token punctuation">.</span>show_stroke<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>imagen<span class="token punctuation">[</span>st<span class="token punctuation">]</span><span class="token punctuation">.</span>set_stroke<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>stroke_<span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>animation <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>DrawBorderThenFill<span class="token punctuation">(</span>self<span class="token punctuation">.</span>imagen<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            c <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>imagen<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                permission_print <span class="token operator">=</span> <span class="token boolean">True</span>
                <span class="token keyword">for</span> w <span class="token keyword">in</span> self<span class="token punctuation">.</span>remove<span class="token punctuation">:</span>
                    <span class="token keyword">if</span> j <span class="token operator">==</span> w<span class="token punctuation">:</span>
                        permission_print <span class="token operator">=</span> <span class="token boolean">False</span>
                <span class="token keyword">if</span> permission_print<span class="token punctuation">:</span>
                    self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>self<span class="token punctuation">.</span>imagen<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
            c <span class="token operator">+=</span> <span class="token number">1</span>
        self<span class="token punctuation">.</span>personalize_image<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">personalize_image</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">print_formula</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">,</span> inverse_scale<span class="token punctuation">,</span> direction<span class="token punctuation">,</span> exception<span class="token punctuation">,</span> buff<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text<span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>self<span class="token punctuation">.</span>warning_color<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
        c <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            permission_print <span class="token operator">=</span> <span class="token boolean">True</span>
            <span class="token keyword">for</span> w <span class="token keyword">in</span> exception<span class="token punctuation">:</span>
                <span class="token keyword">if</span> j <span class="token operator">==</span> w<span class="token punctuation">:</span>
                    permission_print <span class="token operator">=</span> <span class="token boolean">False</span>
            <span class="token keyword">if</span> permission_print<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>text<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>self<span class="token punctuation">.</span>stroke_color<span class="token punctuation">)</span><span class="token punctuation">)</span>
        c <span class="token operator">+=</span> <span class="token number">1</span>

        c <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            permission_print <span class="token operator">=</span> <span class="token boolean">True</span>
            element <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"%d"</span> <span class="token operator">%</span> c<span class="token punctuation">,</span> color<span class="token operator">=</span>color<span class="token punctuation">)</span>
            element<span class="token punctuation">.</span>scale<span class="token punctuation">(</span>inverse_scale<span class="token punctuation">)</span>
            element<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>text<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> direction<span class="token punctuation">,</span> buff<span class="token operator">=</span>buff<span class="token punctuation">)</span>
            <span class="token keyword">for</span> w <span class="token keyword">in</span> exception<span class="token punctuation">:</span>
                <span class="token keyword">if</span> j <span class="token operator">==</span> w<span class="token punctuation">:</span>
                    permission_print <span class="token operator">=</span> <span class="token boolean">False</span>
            <span class="token keyword">if</span> permission_print<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>add_foreground_mobjects<span class="token punctuation">(</span>element<span class="token punctuation">)</span>
            c <span class="token operator">+=</span> <span class="token number">1</span>

    <span class="token keyword">def</span> <span class="token function">return_elements</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> formula<span class="token punctuation">,</span> adds<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> adds<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>add_foreground_mobjects<span class="token punctuation">(</span>formula<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>self<span class="token punctuation">.</span>color_element<span class="token punctuation">)</span><span class="token punctuation">,</span>
                TexMobject<span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token operator">%</span>i<span class="token punctuation">,</span> color<span class="token operator">=</span>self<span class="token punctuation">.</span>color_element<span class="token punctuation">,</span> background_stroke_width<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scale<span class="token punctuation">(</span>self<span class="token punctuation">.</span>numbers_scale<span class="token punctuation">)</span><span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>formula<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>direction_numbers<span class="token punctuation">,</span> buff<span class="token operator">=</span>self<span class="token punctuation">.</span>space_between_numbers<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后呢，在<code>manim_env\Lib\site-packages\manimlib</code>这个目录下新建一个文件夹<code>my_class</code>，并把<code>my_class.py</code>文件保存到这个新的文件夹下。</p>
<p>之后我们打开<code>manim_env\Lib\site-packages\manimlib\imports.py</code>这个文件，你可能可以注意到，这就是我们每次都import的那个文件。</p>
<p>我们在文件中找到下面的一行注释：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Non manim libraries that are also nice to have without thinking</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>并且把我们的包的导入写在下面，就像这个样子：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Non manim libraries that are also nice to have without thinking</span>
<span class="token keyword">from</span> manimlib<span class="token punctuation">.</span>my_class<span class="token punctuation">.</span>my_class <span class="token keyword">import</span> <span class="token operator">*</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>第一个点后面的my_class代表那个新建的文件夹，第二个点后面的my_class代表py文件。保存。</p>
<p>在这之后，我们就不需要复制神奇代码也能使用它了。举个例子：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> manimlib<span class="token punctuation">.</span>imports <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">class</span> <span class="token class-name">Check1</span><span class="token punctuation">(</span>CheckFormulaByTXT<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"text"</span><span class="token punctuation">:</span> TextMobject<span class="token punctuation">(</span><span class="token string">"T"</span><span class="token punctuation">,</span> <span class="token string">"E"</span><span class="token punctuation">,</span> <span class="token string">"ST"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>能直接渲染出结果：</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Check1.png" alt="Check1.png" /><figcaption aria-hidden="true">Check1.png</figcaption>
</figure>
<p>现在我们来学习变换。如果我们要把一个对象变成另一个对象，我们就使用变换<code>Transform()</code>。来看下面一个例子：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">TransformationText1V1</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        texto1 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"First text"</span><span class="token punctuation">)</span>
        texto2 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"Second text"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>texto1<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Transform<span class="token punctuation">(</span>texto1<span class="token punctuation">,</span> texto2<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>注意看第7行<code>Transform()</code>的使用方式，和<code>Write()</code>类似，需要把函数放在<code>self.play()</code>里面，因为这是个动画。<code>Transform()</code>的第一个参数是我们要进行变换的对象，第二个参数是要变换成的目标对象。</p>
<p>我们来渲染看一看。</p>
<div id="dplayer9" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer9 = new DPlayer({"element":document.getElementById("dplayer9"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_TransformationText1V1.mp4"}});</script>
<p>另一种变换的方式是使用<code>ReplacementTransform()</code>，它和<code>Transform()</code>的区别呢，我们通过下面的两段代码来说明：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">WhatIsTransform</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        t1 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">)</span>
        t2 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">)</span>
        t3 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"C"</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>t1<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Transform<span class="token punctuation">(</span>t1<span class="token punctuation">,</span> t2<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Transform<span class="token punctuation">(</span>t1<span class="token punctuation">,</span> t3<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>FadeOut<span class="token punctuation">(</span>t1<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">WhatIsReplacementTransform</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        t1 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">)</span>
        t2 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">)</span>
        t3 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"C"</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>t1<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ReplacementTransform<span class="token punctuation">(</span>t1<span class="token punctuation">,</span> t2<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ReplacementTransform<span class="token punctuation">(</span>t2<span class="token punctuation">,</span> t3<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>FadeOut<span class="token punctuation">(</span>t3<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>上面有两个类，分别用<code>Transform()</code>和<code>ReplacementTransform()</code>来实现变换操作，渲染一下你可以发现两者没有任何区别。也就是说，同一种效果可以用两种不同的方法编写。</p>
<div id="dplayer10" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer10 = new DPlayer({"element":document.getElementById("dplayer10"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_WhatIsTransform.mp4"}});</script>
<p>那么它们的不同体现在什么地方呢？</p>
<p>来看一下代码：</p>
<p>用<code>Transform()</code>的类生成的动画第10行，第13行，第16行，变换的对象都是<code>t1</code>。也就是说在执行了第10行之后，<code>t1</code>的内容就由字母A变成了字母B，执行了第13行之后，<code>t1</code>的内容由字母B变成了字母C。这两个过程中，<code>t2</code>和<code>t3</code>里保存的字母没有任何变化，所以最后第16行的淡出操作的参数是内容已经变成字母C的对象<code>t1</code>。换种方式说，就是使用<code>Transform()</code>的时候，第二个参数<code>t2</code>和<code>t3</code>都只是<code>t1</code>变换的目标，<code>t1</code>会把自己的形状变成目标的样子，而这两个目标<code>t2</code>和<code>t3</code>甚至都没有出现在屏幕上，你看见的只是<code>t1</code>的变形过程。</p>
<p>用<code>ReplacementTransform()</code>的类生成的动画第28行、第31行、第34行，你会发现填的参数和<code>Transform()</code>不一样了。为什么呢？<code>ReplacementTransform()</code>的变换过程是怎样的呢？现在来详细解释一下。<code>ReplacementTransform(t1, t2)</code>的变换过程实际上可以看成3步：</p>
<p>第一步：<code>Transform(t1, t2)</code></p>
<p>第二步：<code>self.remove(t1)</code></p>
<p>第三步：<code>self.add(t2)</code></p>
<p>也就是说，第一步<code>t1</code>变成了<code>t2</code>，此时屏幕上的字母是<code>t1</code>。但是第二步和第三步执行完之后，屏幕上的字母实际上就是<code>t2</code>了，<code>t1</code>已经从屏幕上移除了。所以呢我们下一步的变换，自然要对<code>t2</code>来做了。这就是两者的不同之处。</p>
<p>现在我们已经知道如何进行变换了，和之前的数组结合起来，我们就可以实现一些很骚很炫酷的效果了，比如：公式的变形。</p>
<p>来看下面的代码：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">CopyTextV1</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        formula <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span>
            <span class="token string">r'\frac&#123;d&#125;&#123;dx&#125;'</span><span class="token punctuation">,</span> <span class="token comment"># 0</span>
            <span class="token string">'('</span><span class="token punctuation">,</span>             <span class="token comment"># 1</span>
            <span class="token string">'u'</span><span class="token punctuation">,</span>             <span class="token comment"># 2</span>
            <span class="token string">'+'</span><span class="token punctuation">,</span>             <span class="token comment"># 3</span>
            <span class="token string">'v'</span><span class="token punctuation">,</span>             <span class="token comment"># 4</span>
            <span class="token string">')'</span><span class="token punctuation">,</span>             <span class="token comment"># 5</span>
            <span class="token string">'='</span><span class="token punctuation">,</span>             <span class="token comment"># 6</span>
            <span class="token string">r'\frac&#123;d&#125;&#123;dx&#125;'</span><span class="token punctuation">,</span> <span class="token comment"># 7</span>
            <span class="token string">'u'</span><span class="token punctuation">,</span>             <span class="token comment"># 8</span>
            <span class="token string">'+'</span><span class="token punctuation">,</span>             <span class="token comment"># 9</span>
            <span class="token string">r'\frac&#123;d&#125;&#123;dx&#125;'</span><span class="token punctuation">,</span> <span class="token comment"># 10</span>
            <span class="token string">'v'</span>              <span class="token comment"># 11</span>
        <span class="token punctuation">)</span> <span class="token comment"># 定义了一个公式对象</span>
        formula<span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># 把公式大小变为原来的2倍</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 让公式的第0到6个部分写出来</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
            ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> formula<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> formula<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> formula<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span> <span class="token comment"># 把公式的2、4、3部分的拷贝分别变为第8、11、9部分</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
            ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> formula<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> formula<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span> <span class="token comment"># 把公式的第0部分的拷贝变为第7和第10部分</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>上面是一段微分的等式。效果如下：</p>
<div id="dplayer11" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer11 = new DPlayer({"element":document.getElementById("dplayer11"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_CopyTextV1.mp4"}});</script>
<p>如果要变换的公式的形状是一样的，那么就不会有变形的效果，只会有移动的效果（只要开始和结束的两个对象位置不同就会有移动效果）。而21、22、23、27、28行出现了<code>.copy()</code>方法，这个方法用于生成一份该对象的拷贝，这样原来的对象就不会受影响了。</p>
<p>如果要变换的部分比较多，我们当然也可以使用诸如列表解析式、<code>zip()</code>等高级函数、for循环、<code>*</code>参数传递之类的方式，来简化重复代码的书写。</p>
<p>这里贴出几个练习，尝试着渲染一下看看结果，并且试着理解每段代码的含义，别害怕，并没有那么难，如果很难看明白代码，就去看看渲染结果，然后反推代码的意思。当然，你也可以有一些批判性的想法，因为有些代码看上去并没有那么好懂，因此我们也不一定要模仿，就当拓展一下思路，自己写的代码以自己容易读懂为准。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">CopyTextV2</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		formula <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"\\frac&#123;d&#125;&#123;dx&#125;"</span><span class="token punctuation">,</span>
			<span class="token string">"("</span><span class="token punctuation">,</span><span class="token string">"u"</span><span class="token punctuation">,</span><span class="token string">"+"</span><span class="token punctuation">,</span><span class="token string">"v"</span><span class="token punctuation">,</span><span class="token string">")"</span><span class="token punctuation">,</span><span class="token string">"="</span><span class="token punctuation">,</span>
			<span class="token string">"\\frac&#123;d&#125;&#123;dx&#125;"</span><span class="token punctuation">,</span><span class="token string">"u"</span><span class="token punctuation">,</span><span class="token string">"+"</span><span class="token punctuation">,</span><span class="token string">"\\frac&#123;d&#125;&#123;dx&#125;"</span><span class="token punctuation">,</span><span class="token string">"v"</span>
			<span class="token punctuation">)</span>
		formula<span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
			ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			run_time<span class="token operator">=</span><span class="token number">3</span>
			<span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
			ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			run_time<span class="token operator">=</span><span class="token number">3</span>
			<span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">CopyTextV3</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		formula <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"\\frac&#123;d&#125;&#123;dx&#125;"</span><span class="token punctuation">,</span>
			<span class="token string">"("</span><span class="token punctuation">,</span><span class="token string">"u"</span><span class="token punctuation">,</span><span class="token string">"+"</span><span class="token punctuation">,</span><span class="token string">"v"</span><span class="token punctuation">,</span><span class="token string">")"</span><span class="token punctuation">,</span><span class="token string">"="</span><span class="token punctuation">,</span>
			<span class="token string">"\\frac&#123;d&#125;&#123;dx&#125;"</span><span class="token punctuation">,</span><span class="token string">"u"</span><span class="token punctuation">,</span><span class="token string">"+"</span><span class="token punctuation">,</span><span class="token string">"\\frac&#123;d&#125;&#123;dx&#125;"</span><span class="token punctuation">,</span><span class="token string">"v"</span>
			<span class="token punctuation">)</span>
		formula<span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
		formula<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>RED<span class="token punctuation">)</span>
		formula<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>BLUE<span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
			ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			run_time<span class="token operator">=</span><span class="token number">3</span>
			<span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
			ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			run_time<span class="token operator">=</span><span class="token number">3</span>
			<span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">CopyTextV4</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		formula <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"\\frac&#123;d&#125;&#123;dx&#125;"</span><span class="token punctuation">,</span>
			<span class="token string">"("</span><span class="token punctuation">,</span><span class="token string">"u"</span><span class="token punctuation">,</span><span class="token string">"+"</span><span class="token punctuation">,</span><span class="token string">"v"</span><span class="token punctuation">,</span><span class="token string">")"</span><span class="token punctuation">,</span><span class="token string">"="</span><span class="token punctuation">,</span>
			<span class="token string">"\\frac&#123;d&#125;&#123;dx&#125;"</span><span class="token punctuation">,</span><span class="token string">"u"</span><span class="token punctuation">,</span><span class="token string">"+"</span><span class="token punctuation">,</span><span class="token string">"\\frac&#123;d&#125;&#123;dx&#125;"</span><span class="token punctuation">,</span><span class="token string">"v"</span>
			<span class="token punctuation">)</span>
		formula<span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
		<span class="token keyword">for</span> letter<span class="token punctuation">,</span>color <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">"u"</span><span class="token punctuation">,</span>RED<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"v"</span><span class="token punctuation">,</span>BLUE<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
			formula<span class="token punctuation">.</span>set_color_by_tex<span class="token punctuation">(</span>letter<span class="token punctuation">,</span>color<span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
			ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			run_time<span class="token operator">=</span><span class="token number">3</span>
			<span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
			ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			ReplacementTransform<span class="token punctuation">(</span>formula<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			run_time<span class="token operator">=</span><span class="token number">3</span>
			<span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">CopyTwoFormulas1</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		formula1 <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span>
				<span class="token string">"\\neg"</span><span class="token punctuation">,</span>		<span class="token comment">#0</span>
				<span class="token string">"\\forall"</span><span class="token punctuation">,</span>		<span class="token comment">#1</span>
				<span class="token string">"x"</span><span class="token punctuation">,</span>			<span class="token comment">#2</span>
				<span class="token string">":"</span><span class="token punctuation">,</span>			<span class="token comment">#3</span>
				<span class="token string">"P(x)"</span>			<span class="token comment">#4</span>
			<span class="token punctuation">)</span>
		formula2 <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span>
				<span class="token string">"\\exists"</span><span class="token punctuation">,</span>		<span class="token comment">#0</span>
				<span class="token string">"x"</span><span class="token punctuation">,</span>			<span class="token comment">#1</span>
				<span class="token string">":"</span><span class="token punctuation">,</span>			<span class="token comment">#2</span>
				<span class="token string">"\\neg"</span><span class="token punctuation">,</span>		<span class="token comment">#3</span>
				<span class="token string">"P(x)"</span>			<span class="token comment">#4</span>
			<span class="token punctuation">)</span>
		<span class="token keyword">for</span> size<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>formula <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>UP<span class="token punctuation">,</span>formula1<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>DOWN<span class="token punctuation">,</span>formula2<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
			formula<span class="token punctuation">.</span>scale<span class="token punctuation">(</span>size<span class="token punctuation">)</span>
			formula<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>pos<span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>formula1<span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
		changes <span class="token operator">=</span> <span class="token punctuation">[</span>
			<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token comment"># | | | | |</span>
			<span class="token comment"># v v v v v</span>
			 <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token punctuation">]</span>
		<span class="token keyword">for</span> pre_ind<span class="token punctuation">,</span>post_ind <span class="token keyword">in</span> changes<span class="token punctuation">:</span>
			self<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span>
				ReplacementTransform<span class="token punctuation">(</span>
					formula1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula2<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
					<span class="token punctuation">)</span>
				<span class="token keyword">for</span> i<span class="token punctuation">,</span>j <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>pre_ind<span class="token punctuation">,</span>post_ind<span class="token punctuation">)</span>
				<span class="token punctuation">]</span><span class="token punctuation">,</span>
				run_time<span class="token operator">=</span><span class="token number">2</span>
			<span class="token punctuation">)</span>
			self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">CopyTwoFormulas2</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		formula1 <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span>
				<span class="token string">"\\neg"</span><span class="token punctuation">,</span><span class="token string">"\\forall"</span><span class="token punctuation">,</span><span class="token string">"x"</span><span class="token punctuation">,</span><span class="token string">":"</span><span class="token punctuation">,</span><span class="token string">"P(x)"</span>
			<span class="token punctuation">)</span>
		formula2 <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span>
				<span class="token string">"\\exists"</span><span class="token punctuation">,</span><span class="token string">"x"</span><span class="token punctuation">,</span><span class="token string">":"</span><span class="token punctuation">,</span><span class="token string">"\\neg"</span><span class="token punctuation">,</span><span class="token string">"P(x)"</span>
			<span class="token punctuation">)</span>
		<span class="token keyword">for</span> tam<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>formula <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>UP<span class="token punctuation">,</span>formula1<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>DOWN<span class="token punctuation">,</span>formula2<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
			formula<span class="token punctuation">.</span>scale<span class="token punctuation">(</span>tam<span class="token punctuation">)</span>
			formula<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>pos<span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>formula1<span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
		changes <span class="token operator">=</span> <span class="token punctuation">[</span>
			<span class="token comment"># First time</span>
			<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token comment"># | | |</span>
			<span class="token comment"># v v v</span>
			 <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token comment"># Second time</span>
			<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token comment"># |</span>
			<span class="token comment"># v</span>
			 <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token comment"># Third time</span>
			<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token comment"># |</span>
			<span class="token comment"># v</span>
			 <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
		<span class="token punctuation">]</span>
		<span class="token keyword">for</span> pre_ind<span class="token punctuation">,</span>post_ind <span class="token keyword">in</span> changes<span class="token punctuation">:</span>
			self<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span>
				ReplacementTransform<span class="token punctuation">(</span>
					formula1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula2<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
					<span class="token punctuation">)</span>
				<span class="token keyword">for</span> i<span class="token punctuation">,</span>j <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>pre_ind<span class="token punctuation">,</span>post_ind<span class="token punctuation">)</span>
				<span class="token punctuation">]</span><span class="token punctuation">,</span>
				run_time<span class="token operator">=</span><span class="token number">2</span>
			<span class="token punctuation">)</span>
			self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">CopyTwoFormulas2Color</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		formula1 <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span>
				<span class="token string">"\\neg"</span><span class="token punctuation">,</span><span class="token string">"\\forall"</span><span class="token punctuation">,</span><span class="token string">"x"</span><span class="token punctuation">,</span><span class="token string">":"</span><span class="token punctuation">,</span><span class="token string">"P(x)"</span>
			<span class="token punctuation">)</span>
		formula2 <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span>
				<span class="token string">"\\exists"</span><span class="token punctuation">,</span><span class="token string">"x"</span><span class="token punctuation">,</span><span class="token string">":"</span><span class="token punctuation">,</span><span class="token string">"\\neg"</span><span class="token punctuation">,</span><span class="token string">"P(x)"</span>
			<span class="token punctuation">)</span>
		parametters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>UP<span class="token punctuation">,</span>formula1<span class="token punctuation">,</span>GREEN<span class="token punctuation">,</span><span class="token string">"\\forall"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
					  <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>DOWN<span class="token punctuation">,</span>formula2<span class="token punctuation">,</span>ORANGE<span class="token punctuation">,</span><span class="token string">"\\exists"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
		<span class="token keyword">for</span> size<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>formula<span class="token punctuation">,</span>col<span class="token punctuation">,</span>sim <span class="token keyword">in</span> parametters<span class="token punctuation">:</span>
			formula<span class="token punctuation">.</span>scale<span class="token punctuation">(</span>size<span class="token punctuation">)</span>
			formula<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>pos<span class="token punctuation">)</span>
			formula<span class="token punctuation">.</span>set_color_by_tex<span class="token punctuation">(</span>sim<span class="token punctuation">,</span>col<span class="token punctuation">)</span>
			formula<span class="token punctuation">.</span>set_color_by_tex<span class="token punctuation">(</span><span class="token string">"\\neg"</span><span class="token punctuation">,</span>PINK<span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>formula1<span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
		changes <span class="token operator">=</span> <span class="token punctuation">[</span>
			<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
		<span class="token punctuation">]</span>
		<span class="token keyword">for</span> pre_ind<span class="token punctuation">,</span>post_ind <span class="token keyword">in</span> changes<span class="token punctuation">:</span>
			self<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span>
				ReplacementTransform<span class="token punctuation">(</span>
					formula1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>formula2<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
					<span class="token punctuation">)</span>
				<span class="token keyword">for</span> i<span class="token punctuation">,</span>j <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>pre_ind<span class="token punctuation">,</span>post_ind<span class="token punctuation">)</span>
				<span class="token punctuation">]</span><span class="token punctuation">,</span>
				run_time<span class="token operator">=</span><span class="token number">2</span>
			<span class="token punctuation">)</span>
			self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">CopyTwoFormulas3</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		formula1 <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span>
				<span class="token string">"\\neg"</span><span class="token punctuation">,</span><span class="token string">"\\forall"</span><span class="token punctuation">,</span><span class="token string">"x"</span><span class="token punctuation">,</span><span class="token string">":"</span><span class="token punctuation">,</span><span class="token string">"P(x)"</span>
			<span class="token punctuation">)</span>
		formula2 <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span>
				<span class="token string">"\\exists"</span><span class="token punctuation">,</span><span class="token string">"x"</span><span class="token punctuation">,</span><span class="token string">":"</span><span class="token punctuation">,</span><span class="token string">"\\neg"</span><span class="token punctuation">,</span><span class="token string">"P(x)"</span>
			<span class="token punctuation">)</span>
		parametters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>UP<span class="token punctuation">,</span>formula1<span class="token punctuation">,</span>GREEN<span class="token punctuation">,</span><span class="token string">"\\forall"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
					  <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>DOWN<span class="token punctuation">,</span>formula2<span class="token punctuation">,</span>ORANGE<span class="token punctuation">,</span><span class="token string">"\\exists"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
		<span class="token keyword">for</span> size<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>formula<span class="token punctuation">,</span>col<span class="token punctuation">,</span>sim <span class="token keyword">in</span> parametters<span class="token punctuation">:</span>
			formula<span class="token punctuation">.</span>scale<span class="token punctuation">(</span>size<span class="token punctuation">)</span>
			formula<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>pos<span class="token punctuation">)</span>
			formula<span class="token punctuation">.</span>set_color_by_tex<span class="token punctuation">(</span>sim<span class="token punctuation">,</span>col<span class="token punctuation">)</span>
			formula<span class="token punctuation">.</span>set_color_by_tex<span class="token punctuation">(</span><span class="token string">"\\neg"</span><span class="token punctuation">,</span>PINK<span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>formula1<span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
		changes <span class="token operator">=</span> <span class="token punctuation">[</span>
			<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
		<span class="token punctuation">]</span>
		<span class="token keyword">for</span> pre_ind<span class="token punctuation">,</span>post_ind <span class="token keyword">in</span> changes<span class="token punctuation">:</span>
			self<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span>
				ReplacementTransform<span class="token punctuation">(</span>
					formula1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>formula2<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
					<span class="token punctuation">)</span>
				<span class="token keyword">for</span> i<span class="token punctuation">,</span>j <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>pre_ind<span class="token punctuation">,</span>post_ind<span class="token punctuation">)</span>
				<span class="token punctuation">]</span><span class="token punctuation">,</span>
				run_time<span class="token operator">=</span><span class="token number">2</span>
			<span class="token punctuation">)</span>
			self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>如果我们只定义了一个对象，并且想做出一些变换的动画（比如变色）的时候，我们可以这样写：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ChangeTextColorAnimation</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		text <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span>
		text<span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>text<span class="token punctuation">.</span>set_color<span class="token punctuation">,</span> YELLOW<span class="token punctuation">,</span> run_time<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>上面代码的第7行会让<code>text</code>的颜色由默认的白色渐变成黄色。格式是第一个参数写上改变属性的方法名称（不带括号），第二个参数是第一个参数的参数（比如<code>YELLOW</code>是<code>.set_color()</code>的参数）。</p>
<p>第7行有另一种相同的写法，那就是使用<code>ApplyMethod()</code>函数：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
    ApplyMethod<span class="token punctuation">(</span>text<span class="token punctuation">.</span>set_color<span class="token punctuation">,</span> YELLOW<span class="token punctuation">)</span><span class="token punctuation">,</span>
    run_time<span class="token operator">=</span><span class="token number">2</span>
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>self.play()</code>还允许一次传入多个对象的属性，比如位移、大小、颜色。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ChangeColorAndSizeAnimation</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		text <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span>
		text<span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
		text<span class="token punctuation">.</span>shift<span class="token punctuation">(</span>LEFT<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
                text<span class="token punctuation">.</span>shift<span class="token punctuation">,</span> RIGHT<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span>
                text<span class="token punctuation">.</span>scale<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span>
                text<span class="token punctuation">.</span>set_color<span class="token punctuation">,</span> RED<span class="token punctuation">,</span>
                run_time<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>只要注意是一个属性+一个参数的顺序就好了。</p>
<p>当然，上面的变换还有另一种写法，那就是用<code>.generate_target()</code>方法。观察下面的代码：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ChangeColorAndSizeAnimation2</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"Text"</span><span class="token punctuation">)</span>
        text<span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        text<span class="token punctuation">.</span>shift<span class="token punctuation">(</span>LEFT<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

        text<span class="token punctuation">.</span>generate_target<span class="token punctuation">(</span><span class="token punctuation">)</span>
        text<span class="token punctuation">.</span>target<span class="token punctuation">.</span>shift<span class="token punctuation">(</span>RIGHT<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>
        text<span class="token punctuation">.</span>target<span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        text<span class="token punctuation">.</span>target<span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>RED<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
                MoveToTarget<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">,</span>
                run_time<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>第9行的<code>.generate_target()</code>方法执行后，<code>text.target</code>就是一个<code>text</code>的副本了，通过在<code>text.target</code>这个对象上的修改就能得到<code>text</code>的目标对象。</p>
<p>配合第14行的<code>MoveToTarget()</code>函数，就能实现变换的动画了。</p>
<p>我们来了解一下Manim中对象的层次关系。 <span class="math display">\[
\text{Mobject}
\begin{cases}
\text{VMobject}
\begin{cases}
\text{TextMobject} \\
\text{TexMobject} \\
\vdots
\end{cases}
\\
\vdots
\end{cases}
\]</span> 最大的概念是Mobject，M可以理解为Manim或者Mathematical，意思是Manim对象或者数学对象，每一个出现在屏幕上的对象都是一个Mobject。</p>
<p>下一层的概念是VMobject，V是Vector的意思，表示能组成向量的Manim对象。</p>
<p>VMobject就包括了我们曾经使用过的TextMobject和TexMobject两个概念。</p>
<p>把VMobject组成一组，就叫做VGroup。如果我们<code>print(TextMobject("b"))</code>，命令行上会输出TextMobject，如果我们<code>print(TextMobject("b")[:])</code>，命令行上会输出VGroup。</p>
<p>如果我们有个文字对象，比如<code>text1 = TextMobject('a')</code>。我们想定义一个新的文字对象<code>text2</code>，不过想让<code>text2</code>具有一些和<code>text1</code>相同的属性（比如大小、颜色、位置等等）。那么我们可以使用一系列的<code>.match_...()</code>方法。比如：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">text2 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>match_style<span class="token punctuation">(</span>text1<span class="token punctuation">)</span><span class="token punctuation">.</span>match_width<span class="token punctuation">(</span>text1<span class="token punctuation">)</span><span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>text_1<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><code>.match_style()</code>方法可以复制颜色、粗细、透明度等样式信息，<code>.match_width()</code>方法可以调整宽度和text1相同，<code>.move_to()</code>方法可以把位置调整到和text1相同。</p>
<h2 id="可视化工具和文档">可视化工具和文档</h2>
<p>首先来推荐几个个网站：</p>
<ul>
<li><p>第一个网站是<a target="_blank" rel="noopener" href="https://www.eulertour.com">EulerTour</a>，这是一个可以在线编写Manim代码并且渲染的网站，如果你对配置Manim环境感到头痛，那么强烈推荐这个网站，网站是完全免费的哦。</p></li>
<li><p>第二个网站是<a target="_blank" rel="noopener" href="https://elteoremadebeethoven.github.io/manim_3feb_docs.github.io/html/index.html">Manim Feb/03/2019</a>，这是一个非官方的Manim文档，和参考网页第一条的系列视频是配套的，你可以从这个网站上找到几乎所有的对象和方法的介绍，包括每一个对象的类型、方法的参数列表和配置参数、展示视频以及样例代码。非常方便。</p></li>
<li><p>第三个网站也是一个Manim文档：<a target="_blank" rel="noopener" href="https://www.eulertour.com/learn/manim/index.html">Manim</a>，是第一个网站出的一份文档，上面也有效果的展示和代码供参考。</p></li>
<li><p>第四个网站是中文化的Manim教程文档<a target="_blank" rel="noopener" href="https://manim.ml/index.html">manim教程文档 — manim v0.2 文档</a>。</p>
<blockquote>
<p>这是MK成员根据EulerTour写的 <a target="_blank" rel="noopener" href="https://www.eulertour.com/docs/">eulertour-docs</a> 中文翻译和很多manim教程的学习笔记（教程文档）</p>
</blockquote></li>
</ul>
<p>接下来我们来学习Manim的一个新的对象：<code>Brace()</code>。这是一个大括号对象。我们来根据下面的代码展示一下这个对象的使用方式：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MoveBraces</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text<span class="token operator">=</span>TexMobject<span class="token punctuation">(</span>
            <span class="token string">"\\frac&#123;d&#125;&#123;dx&#125;f(x)g(x)="</span><span class="token punctuation">,</span>       <span class="token comment">#0</span>
            <span class="token string">"f(x)\\frac&#123;d&#125;&#123;dx&#125;g(x)"</span><span class="token punctuation">,</span>        <span class="token comment">#1</span>
            <span class="token string">"+"</span><span class="token punctuation">,</span>                            <span class="token comment">#2</span>
            <span class="token string">"g(x)\\frac&#123;d&#125;&#123;dx&#125;f(x)"</span>         <span class="token comment">#3</span>
        <span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
        brace1 <span class="token operator">=</span> Brace<span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> UP<span class="token punctuation">,</span> buff <span class="token operator">=</span> SMALL_BUFF<span class="token punctuation">)</span>
        brace2 <span class="token operator">=</span> Brace<span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> UP<span class="token punctuation">,</span> buff <span class="token operator">=</span> SMALL_BUFF<span class="token punctuation">)</span>
        t1 <span class="token operator">=</span> brace1<span class="token punctuation">.</span>get_text<span class="token punctuation">(</span><span class="token string">"$g'f$"</span><span class="token punctuation">)</span>
        t2 <span class="token operator">=</span> brace2<span class="token punctuation">.</span>get_text<span class="token punctuation">(</span><span class="token string">"$f'g$"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
            GrowFromCenter<span class="token punctuation">(</span>brace1<span class="token punctuation">)</span><span class="token punctuation">,</span>
            FadeIn<span class="token punctuation">(</span>t1<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
        	ReplacementTransform<span class="token punctuation">(</span>brace1<span class="token punctuation">,</span>brace2<span class="token punctuation">)</span><span class="token punctuation">,</span>
        	ReplacementTransform<span class="token punctuation">(</span>t1<span class="token punctuation">,</span>t2<span class="token punctuation">)</span>
        	<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>效果是这样的：</p>
<div id="dplayer12" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer12 = new DPlayer({"element":document.getElementById("dplayer12"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MoveBraces.mp4"}});</script>
<p>我们反推一下，主要就是第10~13行，观察第10行我们发现<code>Brace(Mobject, direction, [buff])</code>第一个参数就是括号要括的对象，第二个是括号的方位，第三个自然就是和对象之间的间隔了。至于<code>UP</code>和<code>SMALL_BUFF</code>都是一些常数。</p>
<p>第12行的<code>.get_text()</code>方法可以在括号上添加文字，也就是<code>TextMobject</code>。所以如果要显示公式的话，就要加上<code>$</code>。不过这个方法应该生成出的文字就跟括号没啥关系了，对括号做的操作应该都不会影响到文字，所以如果要让它们一起动，必须给文字也设置动画才行。</p>
<p>来看另一种标记的对象：<code>SurroundingRectangle()</code>。顾名思义，就是一个能把对象包围的框框。</p>
<div id="dplayer13" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer13 = new DPlayer({"element":document.getElementById("dplayer13"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_MoveFrameBox.mp4"}});</script>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MoveFrameBox</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text<span class="token operator">=</span>TexMobject<span class="token punctuation">(</span>
            <span class="token string">"\\frac&#123;d&#125;&#123;dx&#125;f(x)g(x)="</span><span class="token punctuation">,</span><span class="token string">"f(x)\\frac&#123;d&#125;&#123;dx&#125;g(x)"</span><span class="token punctuation">,</span><span class="token string">"+"</span><span class="token punctuation">,</span>
            <span class="token string">"g(x)\\frac&#123;d&#125;&#123;dx&#125;f(x)"</span>
        <span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
        framebox1 <span class="token operator">=</span> SurroundingRectangle<span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> buff <span class="token operator">=</span> <span class="token number">.1</span><span class="token punctuation">)</span>
        framebox2 <span class="token operator">=</span> SurroundingRectangle<span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> buff <span class="token operator">=</span> <span class="token number">.1</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
            ShowCreation<span class="token punctuation">(</span>framebox1<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
        	ReplacementTransform<span class="token punctuation">(</span>framebox1<span class="token punctuation">,</span>framebox2<span class="token punctuation">)</span><span class="token punctuation">,</span>
        	<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>SurroundingRectangle(Mobject, [buff])</code>在学了大括号之后，你应该猜得出这两个参数的含义了吧。</p>
<p>框框没有了<code>.get_text()</code>方法怎么办？用普通的文字或者公式对象结合<code>.next_to()</code>方法来使用就好了。</p>
<p>下一个对象是箭头：<code>Arrow()</code>。来看下面的代码，学习怎么定义一个箭头：</p>
<div id="dplayer14" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer14 = new DPlayer({"element":document.getElementById("dplayer14"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Arrow1.mp4"}});</script>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Arrow1</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		step1 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"Step 1"</span><span class="token punctuation">)</span>
		step2 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"Step 2"</span><span class="token punctuation">)</span>
		arrow <span class="token operator">=</span> Arrow<span class="token punctuation">(</span>LEFT<span class="token punctuation">,</span>RIGHT<span class="token punctuation">)</span>
		step1<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>LEFT<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>
		arrow<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>step1<span class="token punctuation">,</span>RIGHT<span class="token punctuation">,</span>buff <span class="token operator">=</span> <span class="token number">.1</span><span class="token punctuation">)</span>
		step2<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>arrow<span class="token punctuation">,</span>RIGHT<span class="token punctuation">,</span>buff <span class="token operator">=</span> <span class="token number">.1</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>step1<span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>GrowArrow<span class="token punctuation">(</span>arrow<span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>step2<span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>观察第5行，思考一个问题：定义一个箭头对象一定需要哪些参数呢？当然是起点和终点。所以<code>Arrow(start, end)</code>你就能明白为什么这么定义了吧。</p>
<p>第11行的<code>GrowArrow()</code>是专门绘制一个箭头的动画的，它会让Arrow从箭尾到箭头地画出来。</p>
<p>当然你不仅仅可以用<code>LEFT</code>之类的来表示方位，要方便地从一个对象指向另一个对象，我们可以这样写：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Arrow2</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		step1 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"Step 1"</span><span class="token punctuation">)</span>
		step2 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"Step 2"</span><span class="token punctuation">)</span>
		step1<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>LEFT<span class="token operator">*</span><span class="token number">2</span><span class="token operator">+</span>DOWN<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>
		step2<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">*</span>RIGHT<span class="token operator">+</span><span class="token number">2</span><span class="token operator">*</span>UP<span class="token punctuation">)</span>
		arrow1 <span class="token operator">=</span> Arrow<span class="token punctuation">(</span>step1<span class="token punctuation">.</span>get_right<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>step2<span class="token punctuation">.</span>get_left<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
		arrow1<span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>RED<span class="token punctuation">)</span>
		arrow2 <span class="token operator">=</span> Arrow<span class="token punctuation">(</span>step1<span class="token punctuation">.</span>get_top<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>step2<span class="token punctuation">.</span>get_bottom<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>buff<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
		arrow2<span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>BLUE<span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>step1<span class="token punctuation">)</span><span class="token punctuation">,</span>Write<span class="token punctuation">(</span>step2<span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>GrowArrow<span class="token punctuation">(</span>arrow1<span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>GrowArrow<span class="token punctuation">(</span>arrow2<span class="token punctuation">)</span><span class="token punctuation">)</span>
		self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>注意一下第7行和第9行表明了你该怎么让箭头指对象，同时你还可以用<code>buff</code>指定箭头和对象间的距离。</p>
<p>并且可以使用<code>.set_color()</code>来为箭头上色。</p>
<p>如果要画一条线段，就把<code>Arrow()</code>换成<code>Line()</code>就好了，参数和用法没有什么区别，<code>Line()</code>对象也可以使用<code>GrowArrow()</code>函数做动画。</p>
<p>如果要画虚线呢，就换成<code>DashedLine()</code>，用法也一样。</p>
<h2 id="d和3d图像的绘制">2D和3D图像的绘制</h2>
<p>为了学习2D图像和3D图像如何绘制，首先我们需要做一些铺垫，先介绍一下什么叫做CONFIG字典。我们以一个例子来说明CONFIG字典的作用。CONFIG字典可以认为是一个包含了许多对象的集合，我们可以用下面的格式来创建对象。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> manimlib<span class="token punctuation">.</span>imports <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">class</span> <span class="token class-name">ConfigExample</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"text_1"</span><span class="token punctuation">:</span> <span class="token string">"Text 1"</span><span class="token punctuation">,</span>
        <span class="token string">"text_2"</span><span class="token punctuation">:</span> <span class="token string">"Text 2"</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>custom_method<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">custom_method</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        t1 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span>self<span class="token punctuation">.</span>text_1<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>t1<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>上面的代码在CONFIG字典中创建了两个字符串对象。如果要使用这些对象必须在变量名前面加上self，就像第12行一样。</p>
<p>这看起来就只是另外一种声明对象的方式，但实际上不是那个样子的。当我们在类里面定义一个方法的时候，在那个方法里的所有的变量和对象都只能在那个方法内使用。这样如果类里面有其他的方法的话，那一个方法里面定义的对象就没有办法在另一个方法里面使用。这就是为什么需要CONFIG字典的原因，CONFIG字典可以在同一个类中的方法之间共享对象。在上面的例子里面的<code>t1</code>就是只能在<code>custom_method</code>方法中使用，但是<code>self.text_1</code>是所有方法里面都能使用的。</p>
<p>另外也可以用Python本身的方法来定义一个类内的变量，就像下面的代码一样。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> manimlib<span class="token punctuation">.</span>imports <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">class</span> <span class="token class-name">ConfigExample</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"text_1"</span><span class="token punctuation">:</span> <span class="token string">"Text 1"</span><span class="token punctuation">,</span>
        <span class="token string">"text_2"</span><span class="token punctuation">:</span> <span class="token string">"Text 2"</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>custom_method<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>self<span class="token punctuation">.</span>t1<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">custom_method</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>t1 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span>self<span class="token punctuation">.</span>text_1<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>下面一个例子能更好地让你理解如何综合使用两种方式在方法之间沟通对象。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ConfigExample</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"text_1"</span><span class="token punctuation">:</span> <span class="token string">"Text 1"</span><span class="token punctuation">,</span>
        <span class="token string">"text_2"</span><span class="token punctuation">:</span> <span class="token string">"Text 2"</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>custom_method<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>self<span class="token punctuation">.</span>t1<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>custom_method2<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">custom_method</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>t1 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span>self<span class="token punctuation">.</span>text_1<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>t2 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span>self<span class="token punctuation">.</span>text_2<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">custom_method2</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Transform<span class="token punctuation">(</span>self<span class="token punctuation">.</span>t1<span class="token punctuation">,</span> self<span class="token punctuation">.</span>t2<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>其实我们现在编写的所有类，都继承了一个类Scene。而这个Scene类里面就有一些可以修改的参数。而这些可以修改的参数也被写在了CONFIG字典里。</p>
<p>事实上，我们打开<code>manimlib/scene/scene.py</code>可以看到：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Scene</span><span class="token punctuation">(</span>Container<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"camera_class"</span><span class="token punctuation">:</span> Camera<span class="token punctuation">,</span>
        <span class="token string">"camera_config"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token string">"file_writer_config"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token string">"skip_animations"</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
        <span class="token string">"always_update_mobjects"</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
        <span class="token string">"random_seed"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"start_at_animation_number"</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span>
        <span class="token string">"end_at_animation_number"</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span>
        <span class="token string">"leave_progress_bars"</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>从第3行看出，Scene类中引入了另一个类称为Camera，这个类位于文件<code>manimlib/camera/camera.py</code>之中。下面展示了部分Camera类的CONFIG信息：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Camera</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"background_image"</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span>
        <span class="token string">"pixel_height"</span><span class="token punctuation">:</span> DEFAULT_PIXEL_HEIGHT<span class="token punctuation">,</span>
        <span class="token string">"pixel_width"</span><span class="token punctuation">:</span> DEFAULT_PIXEL_WIDTH<span class="token punctuation">,</span>
        <span class="token string">"frame_rate"</span><span class="token punctuation">:</span> DEFAULT_FRAME_RATE<span class="token punctuation">,</span>
        <span class="token comment"># Note: frame height and width will be resized to match</span>
        <span class="token comment"># the pixel aspect ratio</span>
        <span class="token string">"frame_height"</span><span class="token punctuation">:</span> FRAME_HEIGHT<span class="token punctuation">,</span>
        <span class="token string">"frame_width"</span><span class="token punctuation">:</span> FRAME_WIDTH<span class="token punctuation">,</span>
        <span class="token string">"frame_center"</span><span class="token punctuation">:</span> ORIGIN<span class="token punctuation">,</span>
        <span class="token string">"background_color"</span><span class="token punctuation">:</span> BLACK<span class="token punctuation">,</span>
        <span class="token string">"background_opacity"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token comment"># Points in vectorized mobjects with norm greater</span>
        <span class="token comment"># than this value will be rescaled.</span>
        <span class="token string">"max_allowable_norm"</span><span class="token punctuation">:</span> FRAME_WIDTH<span class="token punctuation">,</span>
        <span class="token string">"image_mode"</span><span class="token punctuation">:</span> <span class="token string">"RGBA"</span><span class="token punctuation">,</span>
        <span class="token string">"n_channels"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token string">"pixel_array_dtype"</span><span class="token punctuation">:</span> <span class="token string">'uint8'</span><span class="token punctuation">,</span>
        <span class="token comment"># z_buff_func is only used if the flag above is set to True.</span>
        <span class="token comment"># round z coordinate to nearest hundredth when comparring</span>
        <span class="token string">"z_buff_func"</span><span class="token punctuation">:</span> <span class="token keyword">lambda</span> m<span class="token punctuation">:</span> np<span class="token punctuation">.</span><span class="token builtin">round</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>get_center<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">"cairo_line_width_multiple"</span><span class="token punctuation">:</span> <span class="token number">0.01</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>里面有一些比较有用的设置，比如背景图片<code>background_image</code>和背景颜色<code>background_color</code>等等。</p>
<p>而上文中Scene类的第4行提示我们，可以通过在自己的类中使用<code>camera_config</code>来改变上文中提到的一些设置。下面以如何修改背景颜色来举个例子。</p>
<p>在我们自己编写的类<code>ConfigExample</code>中这样写：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ConfigExample</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"camera_config"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token string">"background_color"</span><span class="token punctuation">:</span> RED
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token string">"text_1"</span><span class="token punctuation">:</span> <span class="token string">"Text 1"</span><span class="token punctuation">,</span>
        <span class="token string">"text_2"</span><span class="token punctuation">:</span> <span class="token string">"Text 2"</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token comment"># ...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后渲染一下：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim 2D_and_3D_graphs.py ConfigExample -pl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>可以看到背景变成了红色。</p>
<p>在Manim中，就是通过修改CONFIG的方式，来重新设定被继承的类的参数和设置的。</p>
<p>下面我们来学习一下2D图像的绘制。和它有关的类<code>GraphScene</code>位于<code>manimlib/scene/graph_scene.py</code>中。我们来看看它的CONFIG内容都有哪些，以便于我们以后修改。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">GraphScene</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"x_min"</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">"x_max"</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token string">"x_axis_width"</span><span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
        <span class="token string">"x_tick_frequency"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">"x_leftmost_tick"</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span>  <span class="token comment"># Change if different from x_min</span>
        <span class="token string">"x_labeled_nums"</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span>
        <span class="token string">"x_axis_label"</span><span class="token punctuation">:</span> <span class="token string">"$x$"</span><span class="token punctuation">,</span>
        <span class="token string">"y_min"</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">"y_max"</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token string">"y_axis_height"</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
        <span class="token string">"y_tick_frequency"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">"y_bottom_tick"</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span>  <span class="token comment"># Change if different from y_min</span>
        <span class="token string">"y_labeled_nums"</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span>
        <span class="token string">"y_axis_label"</span><span class="token punctuation">:</span> <span class="token string">"$y$"</span><span class="token punctuation">,</span>
        <span class="token string">"axes_color"</span><span class="token punctuation">:</span> GREY<span class="token punctuation">,</span>
        <span class="token string">"graph_origin"</span><span class="token punctuation">:</span> <span class="token number">2.5</span> <span class="token operator">*</span> DOWN <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> LEFT<span class="token punctuation">,</span>
        <span class="token string">"exclude_zero_label"</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token string">"default_graph_colors"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>BLUE<span class="token punctuation">,</span> GREEN<span class="token punctuation">,</span> YELLOW<span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"default_derivative_color"</span><span class="token punctuation">:</span> GREEN<span class="token punctuation">,</span>
        <span class="token string">"default_input_color"</span><span class="token punctuation">:</span> YELLOW<span class="token punctuation">,</span>
        <span class="token string">"default_riemann_start_color"</span><span class="token punctuation">:</span> BLUE<span class="token punctuation">,</span>
        <span class="token string">"default_riemann_end_color"</span><span class="token punctuation">:</span> GREEN<span class="token punctuation">,</span>
        <span class="token string">"area_opacity"</span><span class="token punctuation">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
        <span class="token string">"num_rects"</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>可以看到上面包括了x轴/y轴最小/大值，坐标密度等等一系列的参数。在下面的例子中，我们通过自定义这其中的一些参数，来自己绘制一个坐标轴。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Plot1</span><span class="token punctuation">(</span>GraphScene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"y_max"</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
        <span class="token string">"y_min"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"x_max"</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token string">"x_min"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"y_tick_frequency"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token string">"x_tick_frequency"</span><span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
        <span class="token string">"axes_color"</span><span class="token punctuation">:</span> BLUE<span class="token punctuation">,</span>
        <span class="token string">"y_labeled_nums"</span><span class="token punctuation">:</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">"x_labeled_nums"</span><span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7.0</span><span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">"x_label_decimal"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">"y_label_direction"</span><span class="token punctuation">:</span> RIGHT<span class="token punctuation">,</span>
        <span class="token string">"x_label_direction"</span><span class="token punctuation">:</span> UP<span class="token punctuation">,</span>
        <span class="token string">"y_label_decimal"</span><span class="token punctuation">:</span> <span class="token number">3</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>setup_axes<span class="token punctuation">(</span>animate<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        graph <span class="token operator">=</span> self<span class="token punctuation">.</span>get_graph<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">,</span>
                                color<span class="token operator">=</span>GREEN<span class="token punctuation">,</span>
                                x_min<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
                                x_max<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
            ShowCreation<span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">,</span>
            run_time<span class="token operator">=</span><span class="token number">2</span>
        <span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>渲染：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim 2D_and_3D_graphs.py Plot1 -pl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>显示效果如下：</p>
<div id="dplayer15" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer15 = new DPlayer({"element":document.getElementById("dplayer15"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Plot1%E9%94%99%E8%AF%AF.mp4"}});</script>
<p>可以发现视频中图像有些错误，现在我们来修正它。</p>
<p>我们可以发现，坐标轴下方的数字刻度并没有小数，并且数字也并没有在我们指定的位置（指定数字位于x轴的上方和y轴的右方）。而从<code>GraphScene</code>类中的<code>setup_axes</code>方法中可以看出，坐标轴是由位于<code>manimlib/mobject/number_liine.py</code>中的<code>NumberLine</code>类绘制的。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">NumberLine</span><span class="token punctuation">(</span>Line<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"color"</span><span class="token punctuation">:</span> LIGHT_GREY<span class="token punctuation">,</span>
        <span class="token string">"x_min"</span><span class="token punctuation">:</span> <span class="token operator">-</span>FRAME_X_RADIUS<span class="token punctuation">,</span>
        <span class="token string">"x_max"</span><span class="token punctuation">:</span> FRAME_X_RADIUS<span class="token punctuation">,</span>
        <span class="token string">"unit_size"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">"include_ticks"</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token string">"tick_size"</span><span class="token punctuation">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
        <span class="token string">"tick_frequency"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token comment"># Defaults to value near x_min s.t. 0 is a tick</span>
        <span class="token comment"># TODO, rename this</span>
        <span class="token string">"leftmost_tick"</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span>
        <span class="token comment"># Change name</span>
        <span class="token string">"numbers_with_elongated_ticks"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"include_numbers"</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
        <span class="token string">"numbers_to_show"</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span>
        <span class="token string">"longer_tick_multiple"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string">"number_at_center"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"number_scale_val"</span><span class="token punctuation">:</span> <span class="token number">0.75</span><span class="token punctuation">,</span>
        <span class="token string">"label_direction"</span><span class="token punctuation">:</span> DOWN<span class="token punctuation">,</span>
        <span class="token string">"line_to_number_buff"</span><span class="token punctuation">:</span> MED_SMALL_BUFF<span class="token punctuation">,</span>
        <span class="token string">"include_tip"</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
        <span class="token string">"tip_width"</span><span class="token punctuation">:</span> <span class="token number">0.25</span><span class="token punctuation">,</span>
        <span class="token string">"tip_height"</span><span class="token punctuation">:</span> <span class="token number">0.25</span><span class="token punctuation">,</span>
        <span class="token string">"decimal_number_config"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token string">"num_decimal_places"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token string">"exclude_zero_from_default_numbers"</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>刻度的位置是由<code>label_direction</code>控制的。小数的显示是由<code>decimal_number_config</code>控制的。所以我们需要修改<code>graph_scene.py</code>中生成坐标轴的<code>setup_axes</code>方法。</p>
<p>找到生成x轴的部分，如下：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">setup_axes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> animate<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># ...</span>
    x_axis <span class="token operator">=</span> NumberLine<span class="token punctuation">(</span>
        x_min<span class="token operator">=</span>self<span class="token punctuation">.</span>x_min<span class="token punctuation">,</span>
        x_max<span class="token operator">=</span>self<span class="token punctuation">.</span>x_max<span class="token punctuation">,</span>
        unit_size<span class="token operator">=</span>self<span class="token punctuation">.</span>space_unit_to_x<span class="token punctuation">,</span>
        tick_frequency<span class="token operator">=</span>self<span class="token punctuation">.</span>x_tick_frequency<span class="token punctuation">,</span>
        leftmost_tick<span class="token operator">=</span>self<span class="token punctuation">.</span>x_leftmost_tick<span class="token punctuation">,</span>
        numbers_with_elongated_ticks<span class="token operator">=</span>self<span class="token punctuation">.</span>x_labeled_nums<span class="token punctuation">,</span>
        color<span class="token operator">=</span>self<span class="token punctuation">.</span>axes_color
    <span class="token punctuation">)</span>
    <span class="token comment"># ...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>修改成下面的样子：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">setup_axes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> animate<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># ...</span>
    x_axis <span class="token operator">=</span> NumberLine<span class="token punctuation">(</span>
        x_min<span class="token operator">=</span>self<span class="token punctuation">.</span>x_min<span class="token punctuation">,</span>
        x_max<span class="token operator">=</span>self<span class="token punctuation">.</span>x_max<span class="token punctuation">,</span>
        unit_size<span class="token operator">=</span>self<span class="token punctuation">.</span>space_unit_to_x<span class="token punctuation">,</span>
        tick_frequency<span class="token operator">=</span>self<span class="token punctuation">.</span>x_tick_frequency<span class="token punctuation">,</span>
        leftmost_tick<span class="token operator">=</span>self<span class="token punctuation">.</span>x_leftmost_tick<span class="token punctuation">,</span>
        numbers_with_elongated_ticks<span class="token operator">=</span>self<span class="token punctuation">.</span>x_labeled_nums<span class="token punctuation">,</span>
        color<span class="token operator">=</span>self<span class="token punctuation">.</span>axes_color<span class="token punctuation">,</span>
        label_direction<span class="token operator">=</span>self<span class="token punctuation">.</span>x_label_direction<span class="token punctuation">,</span>
        decimal_number_config<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"num_decimal_places"</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>x_label_decimal<span class="token punctuation">&#125;</span>
    <span class="token punctuation">)</span>
    <span class="token comment"># ...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>同样地，将y轴也做类似的修改：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">y_axis <span class="token operator">=</span> NumberLine<span class="token punctuation">(</span>
    <span class="token comment"># ...</span>
    label_direction<span class="token operator">=</span>self<span class="token punctuation">.</span>y_label_direction<span class="token punctuation">,</span>
    decimal_number_config<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"num_decimal_places"</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>y_label_decimal<span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这两处修改中用到的两个变量，需要添加进CONFIG中，并赋上初值：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">GraphScene</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token comment"># ...</span>
        <span class="token string">"x_label_direction"</span><span class="token punctuation">:</span> DOWN<span class="token punctuation">,</span>
        <span class="token string">"y_label_direction"</span><span class="token punctuation">:</span> LEFT<span class="token punctuation">,</span>
        <span class="token string">"x_label_decimal"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"y_label_decimal"</span><span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>保存后重新渲染一遍刚才的类，结果如下所示，坐标轴如我们所希望的一样显示了。</p>
<div id="dplayer16" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer16 = new DPlayer({"element":document.getElementById("dplayer16"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Plot1%E6%AD%A3%E7%A1%AE.mp4"}});</script>
<p>类中剩余CONFIG的意思留给你自己弄清楚其中的含义了，别担心，这并不复杂，只要自己尝试着修改一下值，看看结果，就能很轻松地猜出它们的意思了。</p>
<p>下面列出一些有用的CONFIG选项以及它们的作用：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token string">"x_max"</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment"># x轴的最大值，类似的：x_min、y_max、y_min</span>
    <span class="token string">"x_tick_frequency"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment"># 表示在x轴上每5个单位划一条短线，类似的：y_tick_frequency</span>
    <span class="token string">"axes_color"</span><span class="token punctuation">:</span> BLUE<span class="token punctuation">,</span> <span class="token comment"># 坐标轴的颜色</span>
    <span class="token string">"x_labeled_nums"</span><span class="token punctuation">:</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment"># 表示需要在x轴上显示的数字，可以是range或者list，如果用了numpy需要转化为list，类似的：y_labeled_nums</span>
    <span class="token string">"x_label_decimal"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment"># x轴上显示数字的精度（小数点后几位），类似的：y_lable_decimal</span>
    <span class="token string">"graph_origin"</span><span class="token punctuation">:</span> <span class="token number">3</span> <span class="token operator">*</span> DOWN <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">*</span> LEFT<span class="token punctuation">,</span> <span class="token comment"># 原点的位置，ORIGIN表示正中间</span>
    <span class="token string">"x_label_direction"</span><span class="token punctuation">:</span> DOWN<span class="token punctuation">,</span> <span class="token comment"># 数字相对于x轴的位置，类似的：y_label_direction</span>
    <span class="token string">"x_axis_label"</span><span class="token punctuation">:</span> <span class="token string">"$x_1$"</span><span class="token punctuation">,</span> <span class="token comment"># x轴的标签，None表示不显示，类似的：y_axis_label</span>
    <span class="token string">"x_axis_width"</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment"># x轴的长度，类似的：y_axis_height</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>设置好了需要的CONFIG，画图就非常简单了，基本上分成以下几步（写在<code>construct</code>方法中）：</p>
<ol type="1">
<li><p>设置坐标轴：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">self<span class="token punctuation">.</span>setup_axes<span class="token punctuation">(</span>animate<span class="token operator">=</span><span class="token boolean">True</span><span class="token operator">/</span><span class="token boolean">False</span><span class="token punctuation">)</span> <span class="token comment"># 是否显示绘制动画</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li><p>绘制函数图像：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">graph <span class="token operator">=</span> self<span class="token punctuation">.</span>get_graph<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">,</span> color<span class="token operator">=</span>GREEN<span class="token punctuation">,</span> x_min<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> x_max<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li><p>显示：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ShowCreation<span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">,</span> run_time<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://github.com/Elteoremadebeethoven/AnimationsWithManim/blob/master/English/6a_plots_2D/scenes.md">AnimationsWithManim/scenes.md at master · Elteoremadebeethoven/AnimationsWithManim</a>上有关于坐标轴控制的更加详细的例子，可以进一步学习。</p>
<p>接下来我们来看看3D图像怎么绘制。绘制3D图像要用到的类叫做<code>ThreeDScene</code>，类如其名。首先来看一个例子。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">CameraPosition1</span><span class="token punctuation">(</span>ThreeDScene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        axes <span class="token operator">=</span> ThreeDAxes<span class="token punctuation">(</span><span class="token punctuation">)</span>
        circle <span class="token operator">=</span> Circle<span class="token punctuation">(</span><span class="token punctuation">)</span>
        circle<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>set_camera_orientation<span class="token punctuation">(</span>phi<span class="token operator">=</span><span class="token number">80</span> <span class="token operator">*</span> DEGREES<span class="token punctuation">,</span>
                                    theta<span class="token operator">=</span><span class="token number">45</span> <span class="token operator">*</span> DEGREES<span class="token punctuation">,</span>
                                    distance<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span>
                                    gamma<span class="token operator">=</span><span class="token number">30</span> <span class="token operator">*</span> DEGREES<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ShowCreation<span class="token punctuation">(</span>circle<span class="token punctuation">)</span><span class="token punctuation">,</span> ShowCreation<span class="token punctuation">(</span>axes<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>代码比较好理解，第3行建立一个空间坐标系，第4行用默认参数画了一个圆，第9行生成坐标系以及圆的动画。</p>
<p>重点来说一下第7行，<code>self.set_camera_orientation</code>顾名思义是用来设置观察角度的，也就是想像你的头（为了好理解，接下来都把camera当成是你的头）在什么位置，朝着哪个方向看。不像2D，3D需要指定你从什么方位观察，观察角度的表示方式是球坐标系的表示方式<span class="math inline">\((r, \theta, \varphi)\)</span>。球坐标系的示意图如下所示：</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_%E7%90%83%E5%9D%90%E6%A0%87%E7%B3%BB.svg" alt="球坐标系.svg" /><figcaption aria-hidden="true">球坐标系.svg</figcaption>
</figure>
<p>一般来说，<span class="math inline">\(\theta\)</span>的取值范围是<span class="math inline">\([0, 2\pi)=[0, 360^{\circ})\)</span>，<span class="math inline">\(\varphi\)</span>的取值范围是<span class="math inline">\([0, \pi]=[0, 180^{\circ}]\)</span>，<span class="math inline">\(r\)</span>的取值范围是<span class="math inline">\([0, +\infty)\)</span>。</p>
<p>第四个参数<span class="math inline">\(\gamma\)</span>表示看向坐标系时，你的头的旋转角度，取值范围是<span class="math inline">\([0, 2\pi)=[0, 360^{\circ})\)</span>。</p>
<p>渲染结果如下：</p>
<div id="dplayer17" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer17 = new DPlayer({"element":document.getElementById("dplayer17"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_CameraPosition1.mp4"}});</script>
<p>如果想要移动你的头，可以使用<code>move_camera</code>方法，用法如下面的例子所示：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">CameraPosition2</span><span class="token punctuation">(</span>ThreeDScene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        axes <span class="token operator">=</span> ThreeDAxes<span class="token punctuation">(</span><span class="token punctuation">)</span>
        circle <span class="token operator">=</span> Circle<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ShowCreation<span class="token punctuation">(</span>circle<span class="token punctuation">)</span><span class="token punctuation">,</span> ShowCreation<span class="token punctuation">(</span>axes<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>move_camera<span class="token punctuation">(</span>phi<span class="token operator">=</span><span class="token number">30</span> <span class="token operator">*</span> DEGREES<span class="token punctuation">,</span> theta<span class="token operator">=</span><span class="token operator">-</span><span class="token number">45</span> <span class="token operator">*</span> DEGREES<span class="token punctuation">,</span> run_time<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>渲染结果如下：</p>
<div id="dplayer18" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer18 = new DPlayer({"element":document.getElementById("dplayer18"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_CameraPosition2.mp4"}});</script>
<p>如果要持续沿着z轴旋转可以使用<code>begin_ambient_camera_rotation</code>和<code>stop_ambient_camera_rotation</code>方法。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">CameraPosition3</span><span class="token punctuation">(</span>ThreeDScene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        axes <span class="token operator">=</span> ThreeDAxes<span class="token punctuation">(</span><span class="token punctuation">)</span>
        circle <span class="token operator">=</span> Circle<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>set_camera_orientation<span class="token punctuation">(</span>phi<span class="token operator">=</span><span class="token number">80</span> <span class="token operator">*</span> DEGREES<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ShowCreation<span class="token punctuation">(</span>circle<span class="token punctuation">)</span><span class="token punctuation">,</span> ShowCreation<span class="token punctuation">(</span>axes<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>begin_ambient_camera_rotation<span class="token punctuation">(</span>rate<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>stop_ambient_camera_rotation<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>渲染结果如下：</p>
<div id="dplayer19" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer19 = new DPlayer({"element":document.getElementById("dplayer19"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_CameraPosition3.mp4"}});</script>
<p>空间中的参数曲线可以表现为如下的形式： <span class="math display">\[
f(u)=(x(u), y(u), z(u))
\]</span> 如果想要在3D空间中画一条参数曲线，可以使用<code>ParametricFunction</code>类。</p>
<pre class="line-numbers language-none"><code class="language-none">class ParametricCurve1(ThreeDScene):
    def construct(self):
        curve1 &#x3D; ParametricFunction(
            lambda u: np.array([1.2 * np.cos(u), 1.2 * np.sin(u), u &#x2F; 2]),
            color&#x3D;RED,
            t_min&#x3D;-TAU,
            t_max&#x3D;TAU,
        )
        curve2 &#x3D; ParametricFunction(
            lambda u: np.array([1.2 * np.cos(u), 1.2 * np.sin(u), u]),
            color&#x3D;RED,
            t_min&#x3D;-TAU,
            t_max&#x3D;TAU,
        )
        axes &#x3D; ThreeDAxes()
        self.add(axes)
        self.set_camera_orientation(phi&#x3D;80 * DEGREES, theta&#x3D;-60 * DEGREES)
        self.begin_ambient_camera_rotation(rate&#x3D;0.1)
        self.play(ShowCreation(curve1))
        self.wait()
        self.play(Transform(curve1, curve2),
                  rate_func&#x3D;there_and_back,
                  run_time&#x3D;3)
        self.wait()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>ParametricFunction</code>接受一个lambda表达式形式的参数曲线，<code>t_min</code>和<code>t_max</code>分别代表参数的取值范围。</p>
<p>第22行的<code>rate_func</code>是对动画速率的控制，<code>there_and_back</code>表示将play的内容正放再倒放，实际上这是一个定义在<code>manimlib/utils/rate_functions.py</code>中的一个函数，除此之外还有许多其它的函数，比如<code>linear</code>、<code>wiggle</code>等，分别代表了不同的动画效果（或者说速率控制）。</p>
<p>渲染结果如下：</p>
<div id="dplayer20" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer20 = new DPlayer({"element":document.getElementById("dplayer20"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_ParametricCurve1.mp4"}});</script>
<p>如果仔细观察你可以发现，实际上这条红色的参数曲线完全在坐标轴之前，而不是一部分在前，一部分在后，和坐标轴互有遮挡。要想正确显示，需要在<code>ParametricCurve1</code>的基础上，将曲线的<code>set_shade_in_3d</code>设置为True，如下所示：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ParametricCurve2</span><span class="token punctuation">(</span>ThreeDScene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        curve1 <span class="token operator">=</span> ParametricFunction<span class="token punctuation">(</span>
            <span class="token keyword">lambda</span> u<span class="token punctuation">:</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1.2</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1.2</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">,</span> u <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            color<span class="token operator">=</span>BLACK<span class="token punctuation">,</span>
            t_min<span class="token operator">=</span><span class="token operator">-</span>TAU<span class="token punctuation">,</span>
            t_max<span class="token operator">=</span>TAU<span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
        curve2 <span class="token operator">=</span> ParametricFunction<span class="token punctuation">(</span>
            <span class="token keyword">lambda</span> u<span class="token punctuation">:</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1.2</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1.2</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">,</span> u<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            color<span class="token operator">=</span>RED<span class="token punctuation">,</span>
            t_min<span class="token operator">=</span><span class="token operator">-</span>TAU<span class="token punctuation">,</span>
            t_max<span class="token operator">=</span>TAU<span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
        curve1<span class="token punctuation">.</span>set_shade_in_3d<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        curve2<span class="token punctuation">.</span>set_shade_in_3d<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        axes <span class="token operator">=</span> ThreeDAxes<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>axes<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>set_camera_orientation<span class="token punctuation">(</span>phi<span class="token operator">=</span><span class="token number">80</span> <span class="token operator">*</span> DEGREES<span class="token punctuation">,</span> theta<span class="token operator">=</span><span class="token operator">-</span><span class="token number">60</span> <span class="token operator">*</span> DEGREES<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>begin_ambient_camera_rotation<span class="token punctuation">(</span>rate<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ShowCreation<span class="token punctuation">(</span>curve1<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Transform<span class="token punctuation">(</span>curve1<span class="token punctuation">,</span> curve2<span class="token punctuation">)</span><span class="token punctuation">,</span>
                  rate_func<span class="token operator">=</span>there_and_back<span class="token punctuation">,</span>
                  run_time<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>同时我也让curve1的颜色变暗一点，线粗一点方便观察。</p>
<div id="dplayer21" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer21 = new DPlayer({"element":document.getElementById("dplayer21"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_ParametricCurve2.mp4"}});</script>
<p>可以看出有了一定的交叉感，不过还是和实际的覆盖关系有区别。</p>
<p>曲线用<code>ParametricFunction</code>，曲面用另一个类，叫<code>ParametricSurface</code>。下面是一个例子。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">SurfacesAnimations</span><span class="token punctuation">(</span>ThreeDScene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        axes <span class="token operator">=</span> ThreeDAxes<span class="token punctuation">(</span><span class="token punctuation">)</span>
        cylinder <span class="token operator">=</span> ParametricSurface<span class="token punctuation">(</span><span class="token keyword">lambda</span> u<span class="token punctuation">,</span> v<span class="token punctuation">:</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>
            <span class="token punctuation">[</span>np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>TAU <span class="token operator">*</span> v<span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>TAU <span class="token operator">*</span> v<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> u<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                     resolution<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>fade<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>
        paraboloid <span class="token operator">=</span> ParametricSurface<span class="token punctuation">(</span>
            <span class="token keyword">lambda</span> u<span class="token punctuation">,</span> v<span class="token punctuation">:</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>TAU <span class="token operator">*</span> v<span class="token punctuation">)</span><span class="token punctuation">,</span>
                                   np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>TAU <span class="token operator">*</span> v<span class="token punctuation">)</span><span class="token punctuation">,</span> u<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            v_max<span class="token operator">=</span>TAU<span class="token punctuation">,</span>
            checkerboard_colors<span class="token operator">=</span><span class="token punctuation">[</span>PURPLE_D<span class="token punctuation">,</span> PURPLE_E<span class="token punctuation">]</span><span class="token punctuation">,</span>
            resolution<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        para_hyp <span class="token operator">=</span> ParametricSurface<span class="token punctuation">(</span><span class="token keyword">lambda</span> u<span class="token punctuation">,</span> v<span class="token punctuation">:</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>u<span class="token punctuation">,</span> v<span class="token punctuation">,</span> u<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                     v_min<span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span>
                                     v_max<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
                                     u_min<span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span>
                                     u_max<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
                                     checkerboard_colors<span class="token operator">=</span><span class="token punctuation">[</span>BLUE_D<span class="token punctuation">,</span> BLUE_E<span class="token punctuation">]</span><span class="token punctuation">,</span>
                                     resolution<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        cone <span class="token operator">=</span> ParametricSurface<span class="token punctuation">(</span>
            <span class="token keyword">lambda</span> u<span class="token punctuation">,</span> v<span class="token punctuation">:</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>u <span class="token operator">*</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">,</span> u <span class="token operator">*</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">,</span> u<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            v_min<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>
            v_max<span class="token operator">=</span>TAU<span class="token punctuation">,</span>
            u_min<span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span>
            u_max<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
            checkerboard_colors<span class="token operator">=</span><span class="token punctuation">[</span>GREEN_D<span class="token punctuation">,</span> GREEN_E<span class="token punctuation">]</span><span class="token punctuation">,</span>
            resolution<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        hip_one_side <span class="token operator">=</span> ParametricSurface<span class="token punctuation">(</span>
            <span class="token keyword">lambda</span> u<span class="token punctuation">,</span> v<span class="token punctuation">:</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>
                <span class="token punctuation">[</span>np<span class="token punctuation">.</span>cosh<span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">,</span>
                 np<span class="token punctuation">.</span>cosh<span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">,</span>
                 np<span class="token punctuation">.</span>sinh<span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            v_min<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>
            v_max<span class="token operator">=</span>TAU<span class="token punctuation">,</span>
            u_min<span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span>
            u_max<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
            checkerboard_colors<span class="token operator">=</span><span class="token punctuation">[</span>YELLOW_D<span class="token punctuation">,</span> YELLOW_E<span class="token punctuation">]</span><span class="token punctuation">,</span>
            resolution<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        ellipsoid <span class="token operator">=</span> ParametricSurface<span class="token punctuation">(</span><span class="token keyword">lambda</span> u<span class="token punctuation">,</span> v<span class="token punctuation">:</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token number">1</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0.5</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>
                u<span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                      v_min<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>
                                      v_max<span class="token operator">=</span>TAU<span class="token punctuation">,</span>
                                      u_min<span class="token operator">=</span><span class="token operator">-</span>PI <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                                      u_max<span class="token operator">=</span>PI <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                                      checkerboard_colors<span class="token operator">=</span><span class="token punctuation">[</span>TEAL_D<span class="token punctuation">,</span> TEAL_E<span class="token punctuation">]</span><span class="token punctuation">,</span>
                                      resolution<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        sphere <span class="token operator">=</span> ParametricSurface<span class="token punctuation">(</span><span class="token keyword">lambda</span> u<span class="token punctuation">,</span> v<span class="token punctuation">:</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token number">1.5</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1.5</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1.5</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>
            sin<span class="token punctuation">(</span>u<span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                   v_min<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>
                                   v_max<span class="token operator">=</span>TAU<span class="token punctuation">,</span>
                                   u_min<span class="token operator">=</span><span class="token operator">-</span>PI <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                                   u_max<span class="token operator">=</span>PI <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                                   checkerboard_colors<span class="token operator">=</span><span class="token punctuation">[</span>RED_D<span class="token punctuation">,</span> RED_E<span class="token punctuation">]</span><span class="token punctuation">,</span>
                                   resolution<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>set_camera_orientation<span class="token punctuation">(</span>phi<span class="token operator">=</span><span class="token number">75</span> <span class="token operator">*</span> DEGREES<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>begin_ambient_camera_rotation<span class="token punctuation">(</span>rate<span class="token operator">=</span><span class="token number">0.2</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>axes<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>sphere<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ReplacementTransform<span class="token punctuation">(</span>sphere<span class="token punctuation">,</span> ellipsoid<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ReplacementTransform<span class="token punctuation">(</span>ellipsoid<span class="token punctuation">,</span> cone<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ReplacementTransform<span class="token punctuation">(</span>cone<span class="token punctuation">,</span> hip_one_side<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ReplacementTransform<span class="token punctuation">(</span>hip_one_side<span class="token punctuation">,</span> para_hyp<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ReplacementTransform<span class="token punctuation">(</span>para_hyp<span class="token punctuation">,</span> paraboloid<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ReplacementTransform<span class="token punctuation">(</span>paraboloid<span class="token punctuation">,</span> cylinder<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>FadeOut<span class="token punctuation">(</span>cylinder<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>简单来说，参数曲面可以这么表示： <span class="math display">\[
f(u, v)=(x(u,v), y(u,v), z(u,v))
\]</span> <code>v_min</code>、<code>v_max</code>、<code>u_min</code>、<code>u_max</code>用来控制参数方程的定义域，<code>resolution</code>用来控制曲面方格的密度，而<code>fade</code>用来控制曲面的透明度。</p>
<p>效果如下：</p>
<div id="dplayer22" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer22 = new DPlayer({"element":document.getElementById("dplayer22"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_SurfacesAnimations.mp4"}});</script>
<p>如果想要在空间中插入文字，可以像下面的例子一样操作：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Text3D</span><span class="token punctuation">(</span>ThreeDScene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        axes <span class="token operator">=</span> ThreeDAxes<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>set_camera_orientation<span class="token punctuation">(</span>phi<span class="token operator">=</span><span class="token number">75</span> <span class="token operator">*</span> DEGREES<span class="token punctuation">,</span> theta<span class="token operator">=</span><span class="token operator">-</span><span class="token number">45</span> <span class="token operator">*</span> DEGREES<span class="token punctuation">)</span>
        text3d <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"This is a 3D text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_shade_in_3d<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        text3d<span class="token punctuation">.</span>rotate<span class="token punctuation">(</span>PI <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> axis<span class="token operator">=</span>RIGHT<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>axes<span class="token punctuation">,</span> text3d<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>效果如下：</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Text3D.png" alt="Text3D.png" /><figcaption aria-hidden="true">Text3D.png</figcaption>
</figure>
<p>可以看到在<code>ThreeDScene</code>中，即使是普通的<code>TextMobject</code>也变成3D的了，如果想让这些文字像普通的<code>Scene</code>中显示的一样，可以使用<code>add_fixed_in_frame_mobjects</code>方法：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Text3D2</span><span class="token punctuation">(</span>ThreeDScene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        axes <span class="token operator">=</span> ThreeDAxes<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>set_camera_orientation<span class="token punctuation">(</span>phi<span class="token operator">=</span><span class="token number">75</span> <span class="token operator">*</span> DEGREES<span class="token punctuation">,</span> theta<span class="token operator">=</span><span class="token operator">-</span><span class="token number">45</span> <span class="token operator">*</span> DEGREES<span class="token punctuation">)</span>
        text3d <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"This is a 3D text"</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>add_fixed_in_frame_mobjects<span class="token punctuation">(</span>text3d<span class="token punctuation">)</span>  <span class="token comment">#&lt;----- Add this</span>
        text3d<span class="token punctuation">.</span>to_corner<span class="token punctuation">(</span>UL<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>axes<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>begin_ambient_camera_rotation<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Write<span class="token punctuation">(</span>text3d<span class="token punctuation">)</span><span class="token punctuation">)</span>

        sphere <span class="token operator">=</span> ParametricSurface<span class="token punctuation">(</span><span class="token keyword">lambda</span> u<span class="token punctuation">,</span> v<span class="token punctuation">:</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token number">1.5</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1.5</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1.5</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>
            sin<span class="token punctuation">(</span>u<span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                   v_min<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>
                                   v_max<span class="token operator">=</span>TAU<span class="token punctuation">,</span>
                                   u_min<span class="token operator">=</span><span class="token operator">-</span>PI <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                                   u_max<span class="token operator">=</span>PI <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                                   checkerboard_colors<span class="token operator">=</span><span class="token punctuation">[</span>RED_D<span class="token punctuation">,</span> RED_E<span class="token punctuation">]</span><span class="token punctuation">,</span>
                                   resolution<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>LaggedStartMap<span class="token punctuation">(</span>ShowCreation<span class="token punctuation">,</span> sphere<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div id="dplayer23" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer23 = new DPlayer({"element":document.getElementById("dplayer23"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_Text3D2.mp4"}});</script>
<h2 id="常见问题">常见问题</h2>
<h3 id="如何管理一组对象">如何管理一组对象</h3>
<p>要管理一组对象，可以使用<code>VGroup</code>类的<code>arrange</code>方法。举个例子：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ArrangeObjects</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text1 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"You have"</span><span class="token punctuation">)</span>
        text2 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"to use"</span><span class="token punctuation">)</span>
        text3 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"\\tt VGroup"</span><span class="token punctuation">)</span>

        text_group <span class="token operator">=</span> VGroup<span class="token punctuation">(</span>text1<span class="token punctuation">,</span> text2<span class="token punctuation">,</span> text3<span class="token punctuation">)</span>
        text_group<span class="token punctuation">.</span>arrange<span class="token punctuation">(</span>
            DOWN<span class="token punctuation">,</span>
            aligned_edge<span class="token operator">=</span>LEFT<span class="token punctuation">,</span>
            buff<span class="token operator">=</span><span class="token number">0.4</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>text_group<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>text_group<span class="token punctuation">.</span>arrange<span class="token punctuation">,</span> UP<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token string">"aligned_edge"</span><span class="token punctuation">:</span> RIGHT<span class="token punctuation">,</span> <span class="token string">"buff"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>text_group<span class="token punctuation">.</span>arrange<span class="token punctuation">,</span> RIGHT<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token string">"buff"</span><span class="token punctuation">:</span> <span class="token number">0.4</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div id="dplayer24" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer24 = new DPlayer({"element":document.getElementById("dplayer24"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_ArrangeObjects.mp4"}});</script>
<h3 id="如何缩放或者移动摄影机视角">如何缩放或者移动摄影机视角</h3>
<p>要做到这一点，需要继承一个类<code>MovingCameraScene</code>，之后通过<code>self.camera_frame</code>来调整。</p>
<p>举个例子。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ChangePositionAndSizeCamera</span><span class="token punctuation">(</span>MovingCameraScene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        text <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span><span class="token string">"\\nabla\\textbf&#123;u&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
        square <span class="token operator">=</span> Square<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># Arrange the objects</span>
        VGroup<span class="token punctuation">(</span>text<span class="token punctuation">,</span> square<span class="token punctuation">)</span><span class="token punctuation">.</span>arrange<span class="token punctuation">(</span>RIGHT<span class="token punctuation">,</span> buff<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>text<span class="token punctuation">,</span> square<span class="token punctuation">)</span>

        <span class="token comment"># Save the state of camera</span>
        self<span class="token punctuation">.</span>camera_frame<span class="token punctuation">.</span>save_state<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># Animation of the camera</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
            <span class="token comment"># Set the size with the width of a object</span>
            self<span class="token punctuation">.</span>camera_frame<span class="token punctuation">.</span>set_width<span class="token punctuation">,</span>
            text<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1.2</span><span class="token punctuation">,</span>
            <span class="token comment"># Move the camera to the object</span>
            self<span class="token punctuation">.</span>camera_frame<span class="token punctuation">.</span>move_to<span class="token punctuation">,</span>
            text<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># Restore the state saved</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Restore<span class="token punctuation">(</span>self<span class="token punctuation">.</span>camera_frame<span class="token punctuation">)</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>self<span class="token punctuation">.</span>camera_frame<span class="token punctuation">.</span>set_height<span class="token punctuation">,</span>
                  square<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1.2</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>camera_frame<span class="token punctuation">.</span>move_to<span class="token punctuation">,</span> square<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Restore<span class="token punctuation">(</span>self<span class="token punctuation">.</span>camera_frame<span class="token punctuation">)</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div id="dplayer25" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer25 = new DPlayer({"element":document.getElementById("dplayer25"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_ChangePositionAndSizeCamera.mp4"}});</script>
<p>如果要在其它特定的场景（指一些<code>Scene</code>的派生类，比如<code>GraphScene</code>）中变更视角，除了需要同时继承该类和<code>MovingCameraScene</code>类之外，还需要自己定义一个<code>setup</code>方法，否则会报错。举个例子。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ChangePositionAndSizeCameraInAnotherScene</span><span class="token punctuation">(</span>GraphScene<span class="token punctuation">,</span> MovingCameraScene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"y_max"</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
        <span class="token string">"y_min"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"x_max"</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token string">"x_min"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"y_tick_frequency"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token string">"x_tick_frequency"</span><span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment"># Setup the scenes</span>
    <span class="token keyword">def</span> <span class="token function">setup</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        GraphScene<span class="token punctuation">.</span>setup<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        MovingCameraScene<span class="token punctuation">.</span>setup<span class="token punctuation">(</span>self<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>setup_axes<span class="token punctuation">(</span>animate<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>

        graph <span class="token operator">=</span> self<span class="token punctuation">.</span>get_graph<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">,</span> color<span class="token operator">=</span>GREEN<span class="token punctuation">,</span> x_min<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> x_max<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span>
        dot_at_start_graph <span class="token operator">=</span> Dot<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>graph<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        dot_at_end_grap <span class="token operator">=</span> Dot<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>graph<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> dot_at_end_grap<span class="token punctuation">,</span> dot_at_start_graph<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>self<span class="token punctuation">.</span>camera_frame<span class="token punctuation">.</span>scale<span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>camera_frame<span class="token punctuation">.</span>move_to<span class="token punctuation">,</span>
                  dot_at_start_graph<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>self<span class="token punctuation">.</span>camera_frame<span class="token punctuation">.</span>move_to<span class="token punctuation">,</span> dot_at_end_grap<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div id="dplayer26" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer26 = new DPlayer({"element":document.getElementById("dplayer26"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_ChangePositionAndSizeCameraInAnotherScene.mp4"}});</script>
<h3 id="如何可视化线性变换">如何可视化线性变换</h3>
<p>实现给线性空间应用一个线性变换的动画需要<code>LinearTransformationScene</code>。其中有几个主要用到的方法，分别是<code>apply_matrix</code>、<code>add_vector</code>和<code>add_transformable_mobject</code>。下面给出一个例子，其中的CONFIG包含了几乎所有你可以修改的参数。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">LinearTransformation</span><span class="token punctuation">(</span>LinearTransformationScene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"include_background_plane"</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token string">"include_foreground_plane"</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token string">"foreground_plane_kwargs"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token string">"x_radius"</span><span class="token punctuation">:</span> FRAME_WIDTH<span class="token punctuation">,</span>
            <span class="token string">"y_radius"</span><span class="token punctuation">:</span> FRAME_HEIGHT<span class="token punctuation">,</span>
            <span class="token string">"secondary_line_ratio"</span><span class="token punctuation">:</span> <span class="token number">0</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token string">"background_plane_kwargs"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token string">"color"</span><span class="token punctuation">:</span> GREY<span class="token punctuation">,</span>
            <span class="token string">"secondary_color"</span><span class="token punctuation">:</span> DARK_GREY<span class="token punctuation">,</span>
            <span class="token string">"axes_color"</span><span class="token punctuation">:</span> GREY<span class="token punctuation">,</span>
            <span class="token string">"stroke_width"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token string">"show_coordinates"</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
        <span class="token string">"show_basis_vectors"</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token string">"basis_vector_stroke_width"</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
        <span class="token string">"i_hat_color"</span><span class="token punctuation">:</span> X_COLOR<span class="token punctuation">,</span>
        <span class="token string">"j_hat_color"</span><span class="token punctuation">:</span> Y_COLOR<span class="token punctuation">,</span>
        <span class="token string">"leave_ghost_vectors"</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        mob <span class="token operator">=</span> Circle<span class="token punctuation">(</span><span class="token punctuation">)</span>
        mob<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>RIGHT <span class="token operator">+</span> UP <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
        vector_array <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        matrix <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

        self<span class="token punctuation">.</span>add_transformable_mobject<span class="token punctuation">(</span>mob<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>add_vector<span class="token punctuation">(</span>vector_array<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>apply_matrix<span class="token punctuation">(</span>matrix<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div id="dplayer27" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer27 = new DPlayer({"element":document.getElementById("dplayer27"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_LinearTransformation.mp4"}});</script>
<h3 id="如何清除屏幕上的所有对象">如何清除屏幕上的所有对象</h3>
<p>屏幕上的所有对象都保存在<code>self.mobjects</code>中，因此可以采用如下的方法来清除：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">RemoveAllObjectsInScreen</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
            ShowCreation<span class="token punctuation">(</span>
                VGroup<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span>
                    VGroup<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span>Dot<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>arrange<span class="token punctuation">(</span>RIGHT<span class="token punctuation">)</span>
                    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>arrange<span class="token punctuation">(</span>DOWN<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span>FadeOut<span class="token punctuation">(</span>mob<span class="token punctuation">)</span> <span class="token keyword">for</span> mob <span class="token keyword">in</span> self<span class="token punctuation">.</span>mobjects<span class="token punctuation">]</span>
                  <span class="token comment"># All mobjects in the screen are saved in self.mobjects</span>
                  <span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div id="dplayer28" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer28 = new DPlayer({"element":document.getElementById("dplayer28"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_RemoveAllObjectsInScreen.mp4"}});</script>
<h3 id="如何实现放大镜效果">如何实现放大镜效果</h3>
<p>需要继承一个新的类<code>ZoomedScene</code>，不多说直接给一个例子：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ZoomedSceneExample</span><span class="token punctuation">(</span>ZoomedScene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    CONFIG <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"zoom_factor"</span><span class="token punctuation">:</span> <span class="token number">0.3</span><span class="token punctuation">,</span>
        <span class="token string">"zoomed_display_height"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">"zoomed_display_width"</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
        <span class="token string">"image_frame_stroke_width"</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
        <span class="token string">"zoomed_camera_config"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token string">"default_frame_stroke_width"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Set objects</span>
        dot <span class="token operator">=</span> Dot<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>shift<span class="token punctuation">(</span>UL <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>

        image <span class="token operator">=</span> ImageMobject<span class="token punctuation">(</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        image<span class="token punctuation">.</span>set_height<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
        frame_text <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"Frame"</span><span class="token punctuation">,</span> color<span class="token operator">=</span>PURPLE<span class="token punctuation">)</span><span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">1.4</span><span class="token punctuation">)</span>
        zoomed_camera_text <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">"Zommed camera"</span><span class="token punctuation">,</span> color<span class="token operator">=</span>RED<span class="token punctuation">)</span><span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">1.4</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>image<span class="token punctuation">,</span> dot<span class="token punctuation">)</span>

        <span class="token comment"># Set camera</span>
        zoomed_camera <span class="token operator">=</span> self<span class="token punctuation">.</span>zoomed_camera
        zoomed_display <span class="token operator">=</span> self<span class="token punctuation">.</span>zoomed_display
        frame <span class="token operator">=</span> zoomed_camera<span class="token punctuation">.</span>frame
        zoomed_display_frame <span class="token operator">=</span> zoomed_display<span class="token punctuation">.</span>display_frame

        frame<span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>dot<span class="token punctuation">)</span>
        frame<span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>PURPLE<span class="token punctuation">)</span>

        zoomed_display_frame<span class="token punctuation">.</span>set_color<span class="token punctuation">(</span>RED<span class="token punctuation">)</span>
        zoomed_display<span class="token punctuation">.</span>shift<span class="token punctuation">(</span>DOWN<span class="token punctuation">)</span>

        <span class="token comment"># brackground zoomed_display</span>
        zd_rect <span class="token operator">=</span> BackgroundRectangle<span class="token punctuation">(</span>
            zoomed_display<span class="token punctuation">,</span>
            fill_opacity<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>
            buff<span class="token operator">=</span>MED_SMALL_BUFF<span class="token punctuation">,</span>
        <span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>add_foreground_mobject<span class="token punctuation">(</span>zd_rect<span class="token punctuation">)</span>

        <span class="token comment"># animation of unfold camera</span>
        unfold_camera <span class="token operator">=</span> UpdateFromFunc<span class="token punctuation">(</span>
            zd_rect<span class="token punctuation">,</span> <span class="token keyword">lambda</span> rect<span class="token punctuation">:</span> rect<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>zoomed_display<span class="token punctuation">)</span><span class="token punctuation">)</span>

        frame_text<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> DOWN<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ShowCreation<span class="token punctuation">(</span>frame<span class="token punctuation">)</span><span class="token punctuation">,</span> FadeInFromDown<span class="token punctuation">(</span>frame_text<span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># Activate zooming</span>
        self<span class="token punctuation">.</span>activate_zooming<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
            <span class="token comment"># You have to add this line</span>
            self<span class="token punctuation">.</span>get_zoomed_display_pop_out_animation<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            unfold_camera<span class="token punctuation">)</span>

        zoomed_camera_text<span class="token punctuation">.</span>next_to<span class="token punctuation">(</span>zoomed_display_frame<span class="token punctuation">,</span> DOWN<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>FadeInFromDown<span class="token punctuation">(</span>zoomed_camera_text<span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># Scale in     x   y  z</span>
        scale_factor <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>

        <span class="token comment"># Resize the frame and zoomed camera</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>frame<span class="token punctuation">.</span>scale<span class="token punctuation">,</span> scale_factor<span class="token punctuation">,</span>
                  zoomed_display<span class="token punctuation">.</span>scale<span class="token punctuation">,</span> scale_factor<span class="token punctuation">,</span>
                  FadeOut<span class="token punctuation">(</span>zoomed_camera_text<span class="token punctuation">)</span><span class="token punctuation">,</span> FadeOut<span class="token punctuation">(</span>frame_text<span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># Resize the frame</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>frame<span class="token punctuation">.</span>scale<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> frame<span class="token punctuation">.</span>shift<span class="token punctuation">,</span> <span class="token number">2.5</span> <span class="token operator">*</span> DOWN<span class="token punctuation">)</span>

        <span class="token comment"># Resize zoomed camera</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ScaleInPlace<span class="token punctuation">(</span>zoomed_display<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
            self<span class="token punctuation">.</span>get_zoomed_display_pop_out_animation<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            unfold_camera<span class="token punctuation">,</span>
            <span class="token comment"># -------> Inverse</span>
            rate_func<span class="token operator">=</span><span class="token keyword">lambda</span> t<span class="token punctuation">:</span> smooth<span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> t<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>
            Uncreate<span class="token punctuation">(</span>zoomed_display_frame<span class="token punctuation">)</span><span class="token punctuation">,</span>
            FadeOut<span class="token punctuation">(</span>frame<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这一段代码比较复杂，还涉及到了一些陌生的概念，可以不用急着搞懂，先看看效果：</p>
<div id="dplayer29" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer29 = new DPlayer({"element":document.getElementById("dplayer29"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_ZoomedSceneExample.mp4"}});</script>
<h3 id="如何用点集来绘制图像">如何用点集来绘制图像</h3>
<p>之前我们学习了如何用函数来绘制图像，不过知道如何通过点集来绘制图像也很有必要。</p>
<p>点集可以直接在.py文件中声明，但建议从另一个文件导入，最常用的文件有.dat或者.csv文件。</p>
<p>在Manim中，“标准”坐标系总是指屏幕，也就是说。屏幕的中心是XY参考系的原点。这时候，如果使用<code>Dot</code>绘制点，点的坐标总是相对于屏幕中心的。就像下面这样。</p>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_NormalCoordinate.png" alt="NormalCoordinate.png" /><figcaption aria-hidden="true">NormalCoordinate.png</figcaption>
</figure>
<p>但是如果我们想把一组点放到一个特定的图像上，就必须把屏幕坐标转换成图像坐标。</p>
<p>在Manim中的屏幕坐标称为“coords”，图像坐标称为“points”。</p>
<p>来看一个例子：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">GraphFromData</span><span class="token punctuation">(</span>GraphScene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>setup_axes<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">import</span> csv
        points <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"tutorial/custom_graphs_data.csv"</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>reader<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
            <span class="token keyword">for</span> row <span class="token keyword">in</span> reader<span class="token punctuation">:</span>
                x<span class="token punctuation">,</span> y <span class="token operator">=</span> row
                point <span class="token operator">=</span> self<span class="token punctuation">.</span>coords_to_point<span class="token punctuation">(</span><span class="token builtin">float</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">float</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>
                points<span class="token punctuation">.</span>append<span class="token punctuation">(</span>point<span class="token punctuation">)</span>
        dots <span class="token operator">=</span> VGroup<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span>Dot<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>point<span class="token punctuation">)</span> <span class="token keyword">for</span> point <span class="token keyword">in</span> points<span class="token punctuation">]</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>dots<span class="token punctuation">)</span>
        graph1 <span class="token operator">=</span> VMobject<span class="token punctuation">(</span><span class="token punctuation">)</span>
        graph1<span class="token punctuation">.</span>set_points_as_corners<span class="token punctuation">(</span>points<span class="token punctuation">)</span>
        graph2 <span class="token operator">=</span> VMobject<span class="token punctuation">(</span><span class="token punctuation">)</span>
        graph2<span class="token punctuation">.</span>set_points_smoothly<span class="token punctuation">(</span>points<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ShowCreation<span class="token punctuation">(</span>graph1<span class="token punctuation">)</span><span class="token punctuation">,</span> run_time<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Uncreate<span class="token punctuation">(</span>graph1<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>ShowCreation<span class="token punctuation">(</span>graph2<span class="token punctuation">)</span><span class="token punctuation">,</span> run_time<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>导入.csv文件可以使用<code>csv</code>模块。</p>
<p>第10行的<code>coords_to_point</code>用来将屏幕坐标转化为图像坐标。</p>
<p>使用<code>VMobject</code>类可以绘制通过点的线。其中<code>set_points_as_corners</code>绘制的是折线，<code>set_points_smoothly</code>绘制的是平滑的曲线。</p>
<div id="dplayer30" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer30 = new DPlayer({"element":document.getElementById("dplayer30"),"video":{"url":"https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_GraphFromData.mp4"}});</script>
<p>当然，使用<code>Scene</code>也能这样做，区别就是坐标轴使用的是屏幕坐标。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">CustomGraph</span><span class="token punctuation">(</span>Scene<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">construct</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        axes <span class="token operator">=</span> Axes<span class="token punctuation">(</span><span class="token punctuation">)</span>
        coords <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        points <span class="token operator">=</span> <span class="token punctuation">[</span>axes<span class="token punctuation">.</span>coords_to_point<span class="token punctuation">(</span><span class="token operator">*</span>coord<span class="token punctuation">)</span> <span class="token keyword">for</span> coord <span class="token keyword">in</span> coords<span class="token punctuation">]</span>
        dots <span class="token operator">=</span> VGroup<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span>Dot<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>move_to<span class="token punctuation">(</span>point<span class="token punctuation">)</span> <span class="token keyword">for</span> point <span class="token keyword">in</span> points<span class="token punctuation">]</span><span class="token punctuation">)</span>
        graph <span class="token operator">=</span> VMobject<span class="token punctuation">(</span>color<span class="token operator">=</span>GREEN<span class="token punctuation">)</span>
        graph<span class="token punctuation">.</span>set_points_smoothly<span class="token punctuation">(</span>points<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>add<span class="token punctuation">(</span>axes<span class="token punctuation">,</span> graph<span class="token punctuation">,</span> dots<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<figure>
<img src="https://xfdjblog-1258179712.cos.ap-guangzhou.myqcloud.com/2019_11_24_%E5%AD%A6%E4%B9%A0Manim_CustomGraph.png" alt="CustomGraph.png" /><figcaption aria-hidden="true">CustomGraph.png</figcaption>
</figure>
<h2 id="插入图片和声音">插入图片和声音</h2>
<h3 id="素材文件夹">素材文件夹</h3>
<p>在Manim中使用外部图片或SVG文件时，可以直接使用绝对路径定位文件。例如：<code>D:\\...\\picture.png</code>、<code>/home/.../picture.png</code>。</p>
<p>也可以放在与<code>manim.py</code>、<code>manimlib</code>同级的文件夹内，使用相对路径。例如：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim
┣manim.py
┣manimlib
┣picture.png
┗svg_file.png<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>不过更推荐使用<code>assets</code>目录，由于此目录并不自带，所以需要自己在<code>manim.py</code>的同级目录中创建此文件夹。并且需要在<code>assets</code>目录下创建三个子目录<code>raster_images</code>、<code>svg_images</code>、<code>sounds</code>。需要使用的图片素材放到<code>raster_images</code>文件夹中，需要使用的SVG素材放到<code>svg_images</code>中。如下所示：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">manim
┣manim.py
┣manimlib
┗assets
  ┣raster_images
    ┗picture.png
  ┣svg_images
    ┗svg_file.svg
  ┗sounds<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这样只需要文件名，Manim就能自动定位到对应文件。</p>
<h3 id="插入svg">插入SVG</h3>
<p>在Manim中插入SVG图片直接使用<code>SVGMobject</code>即可。关键字参数和<code>VMobject</code>类似。如下所示。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">mob <span class="token operator">=</span> SVGMobject<span class="token punctuation">(</span>
	<span class="token string">"svg_file.svg"</span><span class="token punctuation">,</span> <span class="token comment"># 唯一参数为一个字符串，表示SVG文件的路径，可用上文方法后直接输入文件名</span>
    color<span class="token operator">=</span>BLUE<span class="token punctuation">,</span> <span class="token comment"># 颜色</span>
    stroke_width<span class="token operator">=</span><span class="token number">0.00</span> <span class="token comment"># 描边宽度</span>
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>由于<code>SVGMobject</code>是<code>VMojbect</code>的子类，所以可以使用所有动画效果。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Uncreate<span class="token punctuation">(</span>mob<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>另外，<code>SVGMobject</code>能够处理的和显示有关的SVG元素只有以下几个：</p>
<p><code>path</code>、<code>rect</code>、<code>circle</code>、<code>ellipse</code>、<code>polygon</code>、<code>polyline</code></p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>?xml</span> <span class="token attr-name">...</span><span class="token punctuation">></span></span>
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">...</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">...</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">...</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">...</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ellipse</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">rx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">ry</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">...</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polygon</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>... ...<span class="token punctuation">"</span></span> <span class="token attr-name">...</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polyline</span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>... ...<span class="token punctuation">"</span></span> <span class="token attr-name">...</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">...</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">...</span><span class="token punctuation">></span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>其余的元素，如<code>image</code>、<code>text</code>等都会省略。</p>
<h3 id="插入图片">插入图片</h3>
<p>在Manim中插入图片，需要使用<code>ImageMobject</code>。与<code>SVGMobject</code>类似，传入一个参数表示图片文件名（支持格式有：<code>.jpg</code>、<code>.png</code>、<code>.gif</code>）。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">image <span class="token operator">=</span> ImageMobject<span class="token punctuation">(</span>
	<span class="token string">'picture.png'</span><span class="token punctuation">,</span>
    height<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment"># height 表示插入图片的高度，默认为2</span>
    invert<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token comment"># invert 表示是否反色，默认为False</span>
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>ImageMobject</code>不是<code>VMobject</code>的子类，所以很多动画都无法使用。</p>
<h2 id="详解manim文字">详解Manim文字</h2>
<h3 id="textmobject">TextMobject</h3>
<p><code>TextMobject</code>的原理，是用<span class="math inline">\(\LaTeX\)</span>编译出SVG。其他属性和<code>VMobject</code>的均相同，也可以使用所有的动画效果。用法如下。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">text <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span>
    <span class="token string">"text"</span><span class="token punctuation">,</span> <span class="token comment"># 要显示的文字，会套入模板中用xelatex编译</span>
    color<span class="token operator">=</span>BLUE<span class="token punctuation">,</span> <span class="token comment"># 字体颜色</span>
    background_stroke_color<span class="token operator">=</span>RED <span class="token comment"># 字体描边颜色</span>
<span class="token punctuation">)</span>
self<span class="token punctuation">.</span>play<span class="token punctuation">(</span>Uncreate<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
text2 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'\\LaTeX\\\\换行'</span><span class="token punctuation">)</span>
text3 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">r'\LaTeX'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>注意：其中需要使用<span class="math inline">\(\LaTeX\)</span>命令的<code>\</code>都需要替换为<code>\\</code>，或在字符串前加<code>r</code>。</p>
<p>一个<code>TextMobject</code>中也可以传入多个字符串，会单独编译，连在一起显示。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">text4 <span class="token operator">=</span> TextMobject<span class="token punctuation">(</span><span class="token string">'ab'</span><span class="token punctuation">,</span> <span class="token string">'cde'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>要访问<code>text4</code>的各个字符串以及单个字符，可以通过下标来访问。</p>
<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph TD
text(text: abcde)
text0(&quot;text[0]: ab&quot;)
text1(&quot;text[1]: cde&quot;)
text00(&quot;text[0][0]: a&quot;)
text01(&quot;text[0][1]: b&quot;)
text02(&quot;text[0][2]: c&quot;)
text10(&quot;text[1][0]: d&quot;)
text11(&quot;text[1][1]: e&quot;)
text --- text0
text --- text1
text0 --- text00
text0 --- text01
text0 --- text02
text1 --- text10
text1 --- text11<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="texmobject">TexMobject</h3>
<p><code>TexMobject</code>，实际上就是<span class="math inline">\(\LaTeX\)</span>的align*环境。使用<span class="math inline">\(\LaTeX\)</span>的数学语法编写公式，结构也和<code>TextMobject</code>类似。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">tex <span class="token operator">=</span> TexMobject<span class="token punctuation">(</span>
    <span class="token string">"\\sum^n_&#123;i=1&#125;i^3=?"</span> <span class="token comment"># 公式的LaTeX编码</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># 放大两倍</span>
debugTeX<span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 在manim_sandbox中定义了一个显示子物体下标的函数</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="textmobject和texmobject的区别">TextMobject和TexMobject的区别</h3>
<p>本质区别就是<code>TextMobject</code>直接将内容写在<span class="math inline">\(\LaTeX\)</span>的document中，而<code>TexMobject</code>将内容写在align*公式环境里。</p>
<pre class="line-numbers language-latex" data-language="latex"><code class="language-latex"><span class="token function selector">\documentclass</span><span class="token punctuation">[</span>preview<span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token keyword">standalone</span><span class="token punctuation">&#125;</span>
<span class="token function selector">\usepackage</span><span class="token punctuation">&#123;</span><span class="token keyword">...</span><span class="token punctuation">&#125;</span>
...
<span class="token function selector">\begin</span><span class="token punctuation">&#123;</span><span class="token keyword">document</span><span class="token punctuation">&#125;</span>
TextMobject
<span class="token function selector">\begin</span><span class="token punctuation">&#123;</span><span class="token keyword">align*</span><span class="token punctuation">&#125;</span><span class="token equation string">
TexMobject
</span><span class="token function selector">\end</span><span class="token punctuation">&#123;</span><span class="token keyword">align*</span><span class="token punctuation">&#125;</span>
<span class="token function selector">\end</span><span class="token punctuation">&#123;</span><span class="token keyword">document</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>所以对于文字和公式，下面两种写法是等价的。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">TextMobject<span class="token punctuation">(</span><span class="token string">"文字$公式$"</span><span class="token punctuation">)</span>
TexMobject<span class="token punctuation">(</span><span class="token string">"\\text&#123;文字&#125;公式"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="text">Text</h3>
<p>如果想自定义字体的话，可以使用<code>Text</code>（需要最新版的Manim）。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">text <span class="token operator">=</span> Text<span class="token punctuation">(</span>
    <span class="token string">"a bcd\n\tfgh"</span><span class="token punctuation">,</span> <span class="token comment"># 只能传入一个字符串，支持\t\n等转义字符</span>
    color<span class="token operator">=</span>BLACK<span class="token punctuation">,</span> <span class="token comment"># 颜色</span>
    font<span class="token operator">=</span><span class="token string">"Consolas"</span><span class="token punctuation">,</span> <span class="token comment"># 字体</span>
    t2c<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"bcd"</span><span class="token punctuation">:</span> BLUE<span class="token punctuation">&#125;</span> <span class="token comment"># 可以通过这个字典来将部分文字上色</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span>scale<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>Text</code>类是<code>SVGMobject</code>的子类，所以有其全部属性和动画效果。</p>
<p>一个<code>Text</code>的子物体就是他的每个字符，空格和<code>\n</code>算一个字符，<code>\t</code>算作四个空格。</p>
<p>可以前往<a target="_blank" rel="noopener" href="https://github.com/manim-kindergarten/manim_sandbox/wiki/text_mobject-%E6%96%87%E5%AD%97%E5%AF%B9%E8%B1%A1">text_mobject 文字对象 · manim-kindergarten/manim_sandbox Wiki</a>查看更多用法。</p>
<h1 id="参考网页">参考网页</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV19K411V7SV?p=19">Manim tutorial 最新全集_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a></li>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv3387999/">如何安装Manim - 哔哩哔哩</a></li>
<li><a target="_blank" rel="noopener" href="https://umm.js.org/p/637d228f/">manim 安装配置指北 | 三分之七橙</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Elteoremadebeethoven/AnimationsWithManim">Elteoremadebeethoven/AnimationsWithManim: Animation course with Manim</a></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%A1%AB%E5%9D%91%E4%B8%AD/" rel="tag"><i class="fa fa-tag"></i> 填坑中</a>
              <a href="/tags/Manim/" rel="tag"><i class="fa fa-tag"></i> Manim</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2019/11/01/LaTeX%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E7%AC%A6%E5%8F%B7%E5%A4%87%E5%BF%98/" rel="prev" title="LaTeX数学公式符号备忘">
                  <i class="fa fa-chevron-left"></i> LaTeX数学公式符号备忘
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/02/23/%E4%BC%98%E5%8C%96%E5%8D%9A%E5%AE%A2%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89%EF%BC%9A%E5%B0%86%E5%8D%9A%E5%AE%A2%E5%90%8C%E6%97%B6%E9%83%A8%E7%BD%B2%E5%88%B0%E7%A0%81%E4%BA%91%E4%B8%8A/" rel="next" title="优化博客（十三）：将博客同时部署到码云上">
                  优化博客（十三）：将博客同时部署到码云上 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">想飞的鸡</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">344k</span>
  </span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/pangu/4.0.7/pangu.min.js"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdn.bootcdn.net/ajax/libs/mermaid/8.11.2/mermaid.min.js"}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>

  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.bootcdn.net/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.min.js"}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"superSample":2,"hOffset":0,"vOffset":0,"position":"left","width":200,"height":300},"mobile":{"show":false,"scale":0.2},"react":{"opacity":0.5},"log":false});</script></body>
</html>
